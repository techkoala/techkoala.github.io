<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Commands - 标签 - TechKoala - Input/Output </title>
        <link>https://www.techkoala.top/tags/commands/</link>
        <description>Commands - 标签 - TechKoala - Input/Output </description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>admin@techkoala.top (TechKoala)</managingEditor>
            <webMaster>admin@techkoala.top (TechKoala)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 13 Sep 2020 22:35:06 &#43;0800</lastBuildDate><atom:link href="https://www.techkoala.top/tags/commands/" rel="self" type="application/rss+xml" /><item>
    <title>Linux 系统信息查询</title>
    <link>https://www.techkoala.top/system_info/</link>
    <pubDate>Sun, 13 Sep 2020 22:35:06 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://www.techkoala.top/system_info/</guid>
    <description><![CDATA[<blockquote>
<p>记录一些常用的 Linux 系统信息查询命令</p>
</blockquote>
<p>日常使用 Linux 过程中，偶尔会需要查询一下系统信息，特别是在对于使用云端主机时，了解必要的信息十分重要。本文总结了一些常用的信息以及相应的查询命令。</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>技巧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">善用 grep 类命令作为配合，高效筛选想要的信息内容。</div>
        </div>
    </div>
<h2 id="系统信息">系统信息</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ uname -a              <span class="c1"># 查看内核/操作系统/CPU 信息</span>
$ head -n <span class="m">1</span> /etc/issue  <span class="c1"># 查看操作系统版本</span>
$ hostname              <span class="c1"># 查看计算机名</span>
$ lspci -tv             <span class="c1"># 列出所有 PCI 设备</span>
$ lsusb -tv             <span class="c1"># 列出所有 USB 设备</span>
$ lsmod                 <span class="c1"># 列出加载的内核模块</span>
$ env                   <span class="c1"># 查看环境变量</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="系统资源">系统资源</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ cat /proc/cpuinfo             <span class="c1"># 查看 CPU 信息</span>
$ lscpu                         <span class="c1"># 查看 CPU 信息</span>
$ lshw -short                   <span class="c1"># 当前服务器 CPU、内存、磁盘等详细信息</span>
$ free -m                       <span class="c1"># 查看内存使用量和交换区使用量</span>
$ df -h                         <span class="c1"># 查看各分区使用情况</span>
$ du -sh                        <span class="c1"># 查看指定目录的大小</span>
$ grep MemTotal /proc/meminfo   <span class="c1"># 查看内存总量</span>
$ grep MemFree /proc/meminfo    <span class="c1"># 查看空闲内存量</span>
$ uptime                        <span class="c1"># 查看系统运行时间、用户数、负载</span>
$ cat /proc/loadavg             <span class="c1"># 查看系统负载</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="磁盘和分区">磁盘和分区</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ mount <span class="p">|</span> column -t         <span class="c1"># 查看挂接的分区状态</span>
$ fdisk -l                  <span class="c1"># 查看所有分区</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="网络信息">网络信息</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ ip                    <span class="c1"># 查看网络相关信息，具体用法参见 man 手册</span>
$ iptables -L           <span class="c1"># 查看防火墙设置</span>
$ route -n              <span class="c1"># 查看路由表</span>
$ netstat -lntp         <span class="c1"># 查看所有监听端口</span>
$ netstat -antp         <span class="c1"># 查看所有已经建立的连接</span>
$ netstat -s            <span class="c1"># 查看网络统计信息</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="进程查询">进程查询</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ ps -ef            <span class="c1"># 查看所有进程</span>
$ top               <span class="c1"># 实时显示进程状态</span>
$ htop              <span class="c1"># 实时显示进程状态，加强版 top</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="用户信息">用户信息</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ w                             <span class="c1"># 查看活动用户</span>
$ id &lt;用户名&gt;                    <span class="c1"># 查看指定用户信息</span>
$ last                          <span class="c1"># 查看用户登录日志</span>
$ cut -d: -f1 /etc/passwd       <span class="c1"># 查看系统所有用户</span>
$ cut -d: -f1 /etc/group        <span class="c1"># 查看系统所有组</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="服务">服务</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ crontab -l                    <span class="c1"># 查看当前用户的计划任务</span>
$ chkconfig –list               <span class="c1"># 列出所有系统服务</span>
$ chkconfig –list <span class="p">|</span> grep on     <span class="c1"># 列出所有启动的系统服务</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="软件信息">软件信息</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ apt list --installed          <span class="c1"># 显示 apt 安装的软件</span>
$ pacman -Qmeq                  <span class="c1"># 显示 aur 软件</span>
$ pacman -Qneq                  <span class="c1"># 显示 pacman 安装的软件</span>
$ pactree package_name          <span class="c1"># 显示软件的依赖树</span>
</code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>使用 df 和 du 查看存储信息</title>
    <link>https://www.techkoala.top/command_df_du/</link>
    <pubDate>Thu, 10 Oct 2019 13:36:09 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://www.techkoala.top/command_df_du/</guid>
    <description><![CDATA[<blockquote>
<p>Linux 中使用 df 和 du 查看磁盘以及文件存储信息的</p>
</blockquote>
<h2 id="df">df</h2>
<p>df 命令用于显示磁盘分区上的可使用的磁盘空间。主要用于查看一级文件夹大小、使用比例、档案系统及其挂入点，但<strong>无法</strong>查看单个文件大小。</p>
<p>默认显示单位为 KB。</p>
<h3 id="语法">语法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">df <span class="o">[</span>选项<span class="o">]</span> <span class="o">[</span>参数<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="选项">选项</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-a或--all                                    包含全部的文件系统；
--block-size<span class="o">=</span>&lt;区块大小&gt;                       以指定的区块大小来显示区块数目；
-h或--human-readable                         以可读性较高的方式来显示信息；
-H或--si                                     与-h参数相同，但在计算时是以1000 Bytes为换算单位而非1024 Bytes；
-i或--inodes                                 显示inode的信息；
-k或--kilobytes                              指定区块大小为1024字节；
-l或--local                                  仅显示本地端的文件系统；
-m或--megabytes                              指定区块大小为1048576字节；
--no-sync                                    在取得磁盘使用信息前，不要执行sync指令，此为预设值；
-P或--portability                            使用POSIX的输出格式；
--sync                                       在取得磁盘使用信息前，先执行sync指令；
-t&lt;文件系统类型&gt;或--type<span class="o">=</span>&lt;文件系统类型&gt;          仅显示指定文件系统类型的磁盘信息；
-T或--print-type                             显示文件系统的类型；
-x&lt;文件系统类型&gt;或--exclude-type<span class="o">=</span>&lt;文件系统类型&gt;  不要显示指定文件系统类型的磁盘信息；
--help                                       显示帮助；
--version                                    显示版本信息。
</code></pre></td></tr></table>
</div>
</div><h2 id="du">du</h2>
<p>du 命令是查看文件和目录磁盘使用的空间。</p>
<h3 id="语法-1">语法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">du <span class="o">[</span>选项<span class="o">]</span> <span class="o">[</span>文件<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="选项-1">选项</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-a或-all                                显示目录中个别文件的大小。
-b或-bytes                              显示目录或文件大小时，以byte为单位。
-c或--total                             除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。
-k或--kilobytes                         以KB<span class="o">(</span>1024bytes<span class="o">)</span>为单位输出。
-m或--megabytes                         以MB为单位输出。
-s或--summarize                         仅显示总计，只列出最后加总的值。
-h或--human-readable                    以K，M，G为单位，提高信息的可读性。
-x或--one-file-xystem                   以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。
-L&lt;符号链接&gt;或--dereference&lt;符号链接&gt;      显示选项中所指定符号链接的源文件大小。
-S或--separate-dirs                     显示个别目录的大小时，并不含其子目录的大小。
-X&lt;文件&gt;或--exclude-from<span class="o">=</span>&lt;文件&gt;          在&lt;文件&gt;指定目录或文件。
--exclude<span class="o">=</span>&lt;目录或文件&gt;                   略过指定的目录或文件。
-D或--dereference-args                  显示指定符号链接的源文件大小。
-H或--si                                与-h参数相同，但是K，M，G是以1000为换算单位。
-l或--count-links                       重复计算硬件链接的文件。
</code></pre></td></tr></table>
</div>
</div><h3 id="实例">实例</h3>
<p>按文件大小排序：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du -sh * <span class="p">|</span> sort -h
</code></pre></td></tr></table>
</div>
</div><p>显示目录或者文件所占空间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du
</code></pre></td></tr></table>
</div>
</div><p>显示指定文件所占空间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du xxxxx
</code></pre></td></tr></table>
</div>
</div><p>查看指定目录的所占空间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du scf
</code></pre></td></tr></table>
</div>
</div><p>显示多个文件所占空间：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du xxxx.tar.gz yyyy.tar.gz
<span class="m">4</span> xxxx.tar.gz
<span class="m">4</span> yyyy.tar.gz
</code></pre></td></tr></table>
</div>
</div><p>只显示总和的大小:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du -s
<span class="m">1288</span> .
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ du -s scf
<span class="m">32</span> scf
</code></pre></td></tr></table>
</div>
</div><p>显示总和的大小且易读:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">du -sh <span class="se">\$</span>dir
</code></pre></td></tr></table>
</div>
</div>]]></description>
</item></channel>
</rss>
