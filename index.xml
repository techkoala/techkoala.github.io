<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>TechKoala</title>
        <link>https://www.techkoala.top/</link>
        <description>TechKoalaçš„è‡ªç•™åœ°ï¼Œåˆ†äº«ä¸€äº›ç¬”è®°ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºLinuxã€è™šæ‹Ÿæœºã€è½¯ä»¶ã€è®¡ç®—æœºç½‘ç»œç­‰ç›¸å…³å†…å®¹</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>admin@techkoala.top (TechKoala)</managingEditor>
            <webMaster>admin@techkoala.top (TechKoala)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Thu, 30 Jul 2020 13:56:16 &#43;0800</lastBuildDate>
            <atom:link href="https://www.techkoala.top/index.xml" rel="self" type="application/rss+xml" />
        <item>
    <title>HTTPS å·¥ä½œåŸç†</title>
    <link>https://www.techkoala.top/how_https_works/</link>
    <pubDate>Sun, 16 Aug 2020 21:52:26 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/how_https_works/</guid>
    <description><![CDATA[<blockquote>
<p>ç†è§£ HTTP åè®®ï¼Œå¯¹ç§°å’Œéå¯¹ç§°åŠ å¯†ï¼Œäº†è§£ HTTPS åè®®çš„å·¥ä½œåŸç†</p>
</blockquote>
<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡ç³»å…¨æ–‡è½¬è½½ï¼ŒåŸæ–‡ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>ä½œè€…ï¼šçŒ«å°¾åšå®¢</p>
<p>é“¾æ¥ï¼šhttps://cattail.me/tech/2015/11/30/how-https-works.html</p>
<p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
<p>è¯»å®Œæœ¬æ–‡ï¼Œä½ èƒ½æ˜ç™½</p>
<ul>
<li>ä»€ä¹ˆæ˜¯ HTTPSï¼ŒTLS (SSL)ï¼ŒTLS å’Œ HTTPS æ˜¯ä»€ä¹ˆå…³ç³»</li>
<li>ä»€ä¹ˆæ˜¯è¯ä¹¦å’Œæ•°å­—ç­¾åï¼Œå®ƒä»¬æ˜¯å¦‚ä½•ä¼ é€’ä¿¡ä»»çš„</li>
<li>HTTPS æœ‰ä»€ä¹ˆæ ·çš„åŠŸèƒ½ï¼Œå®ƒæ˜¯å¦‚ä½•å®ç°è¿™æ ·çš„åŠŸèƒ½çš„</li>
</ul>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>HTTPSï¼Œä¹Ÿç§°ä½œ HTTP over TLSã€‚TLS çš„å‰èº«æ˜¯ SSLï¼ŒTLS 1.0 é€šå¸¸è¢«æ ‡ç¤ºä¸º SSL 3.1ï¼ŒTLS 1.1 ä¸º SSL 3.2ï¼ŒTLS 1.2 ä¸º SSL 3.3ã€‚æœ¬æ–‡ç€é‡æè¿° TLS åè®®çš„ 1.2 ç‰ˆæœ¬</p>
<p>ä¸‹å›¾æè¿°äº†åœ¨ TCP/IP åè®®æ ˆä¸­ TLS (å„å­åè®®ï¼‰å’Œ HTTP çš„å…³ç³»</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/tcp-ip-model.webp" title="/images/Network/HTTPS/tcp-ip-model.webp" data-thumbnail="/images/Network/HTTPS/tcp-ip-model.webp" data-sub-html="<h2>Credit: Kaushal Kumar Panday From: SSL Handshake and HTTPS Bindings on IIS</h2>">
        
    </a><figcaption class="image-caption">Credit: <a href="https://blogs.msdn.com/213737/ProfileUrlRedirect.ashx" target="_blank" rel="noopener noreffer">Kaushal Kumar Panday</a> From: <a href="https://blogs.msdn.com/b/kaushal/archive/2013/08/03/ssl-handshake-and-https-bindings-on-iis.aspx" target="_blank" rel="noopener noreffer">SSL Handshake and HTTPS Bindings on IIS</a></figcaption>
    </figure>
<p>å…¶ä¸­ Handshake protocolï¼ŒChange Ciper Spec protocol å’Œ Alert protocol ç»„æˆäº† SSL Handshaking Protocolsã€‚</p>
<p>HTTPS å’Œ HTTP åè®®ç›¸æ¯”æä¾›äº†:</p>
<ol>
<li>æ•°æ®å®Œæ•´æ€§ï¼šå†…å®¹ä¼ è¾“ç»è¿‡å®Œæ•´æ€§æ ¡éªŒ</li>
<li>æ•°æ®éšç§æ€§ï¼šå†…å®¹ç»è¿‡å¯¹ç§°åŠ å¯†ï¼Œæ¯ä¸ªè¿æ¥ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åŠ å¯†å¯†é’¥</li>
<li>èº«ä»½è®¤è¯ï¼šç¬¬ä¸‰æ–¹æ— æ³•ä¼ªé€ æœåŠ¡ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰èº«ä»½</li>
</ol>
<p>å…¶ä¸­ï¼Œæ•°æ®å®Œæ•´æ€§å’Œéšç§æ€§ç”± TLS Record Protocol ä¿è¯ï¼Œèº«ä»½è®¤è¯ç”± TLS Handshaking Protocols å®ç°ã€‚</p>
<h2 id="æ€»è§ˆ">æ€»è§ˆ</h2>
<p>ä½¿ç”¨ RSA ç®—æ³•çš„ SSL æ¡æ‰‹è¿‡ç¨‹æ˜¯è¿™æ ·çš„:</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/ssl_handshake_rsa.webp" title="/images/Network/HTTPS/ssl_handshake_rsa.webp" data-thumbnail="/images/Network/HTTPS/ssl_handshake_rsa.webp" data-sub-html="<h2>Source: Keyless SSL: The Nitty Gritty Technical Details</h2>">
        
    </a><figcaption class="image-caption">Source: <a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">Keyless SSL: The Nitty Gritty Technical Details</a></figcaption>
    </figure>
<ol>
<li>[æ˜æ–‡] å®¢æˆ·ç«¯å‘é€éšæœºæ•° client_random å’Œæ”¯æŒçš„åŠ å¯†æ–¹å¼åˆ—è¡¨</li>
<li>[æ˜æ–‡] æœåŠ¡å™¨è¿”å›éšæœºæ•° server_random ï¼Œé€‰æ‹©çš„åŠ å¯†æ–¹å¼å’ŒæœåŠ¡å™¨è¯ä¹¦é“¾</li>
<li>[RSA] å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œä½¿ç”¨è¯ä¹¦ä¸­çš„å…¬é’¥åŠ å¯† premaster secret å‘é€ç»™æœåŠ¡ç«¯</li>
<li>æœåŠ¡ç«¯ä½¿ç”¨ç§é’¥è§£å¯† premaster secret</li>
<li>ä¸¤ç«¯åˆ†åˆ«é€šè¿‡ client_randomï¼Œserver_random å’Œ premaster secret ç”Ÿæˆ master secretï¼Œç”¨äºå¯¹ç§°åŠ å¯†åç»­é€šä¿¡å†…å®¹</li>
</ol>
<h3 id="è¯ä¹¦digital-certificate">è¯ä¹¦ï¼ˆDigital certificateï¼‰</h3>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯è¯ä¹¦å‘¢ï¼Ÿ</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/certificate.webp" title="/images/Network/HTTPS/certificate.webp" data-thumbnail="/images/Network/HTTPS/certificate.webp" data-sub-html="<h2>è¯ä¹¦ä¿¡æ¯</h2>">
        
    </a><figcaption class="image-caption">è¯ä¹¦ä¿¡æ¯</figcaption>
    </figure>
<h3 id="è¯ä¹¦ä¸­åŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯">è¯ä¹¦ä¸­åŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯</h3>
<ol>
<li>è¯ä¹¦ä¿¡æ¯ï¼šè¿‡æœŸæ—¶é—´å’Œåºåˆ—å·</li>
<li>æ‰€æœ‰è€…ä¿¡æ¯ï¼šå§“åç­‰</li>
<li>æ‰€æœ‰è€…å…¬é’¥</li>
<li>ä¸ºä»€ä¹ˆæœåŠ¡ç«¯è¦å‘é€è¯ä¹¦ç»™å®¢æˆ·ç«¯</li>
</ol>
<p>äº’è”ç½‘æœ‰å¤ªå¤šçš„æœåŠ¡éœ€è¦ä½¿ç”¨è¯ä¹¦æ¥éªŒè¯èº«ä»½ï¼Œä»¥è‡³äºå®¢æˆ·ç«¯ï¼ˆæ“ä½œç³»ç»Ÿæˆ–æµè§ˆå™¨ç­‰ï¼‰æ— æ³•å†…ç½®æ‰€æœ‰è¯ä¹¦ï¼Œéœ€è¦é€šè¿‡æœåŠ¡ç«¯å°†è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p>
<h3 id="å®¢æˆ·ç«¯ä¸ºä»€ä¹ˆè¦éªŒè¯æ¥æ”¶åˆ°çš„è¯ä¹¦">å®¢æˆ·ç«¯ä¸ºä»€ä¹ˆè¦éªŒè¯æ¥æ”¶åˆ°çš„è¯ä¹¦</h3>
<p><strong>ä¸­é—´äººæ”»å‡»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">å®¢æˆ·ç«¯ &lt;------------ æ”»å‡»è€… &lt;------------ æœåŠ¡ç«¯
        ä¼ªé€ è¯ä¹¦            æ‹¦æˆªè¯·æ±‚
</code></pre></td></tr></table>
</div>
</div><h3 id="å®¢æˆ·ç«¯å¦‚ä½•éªŒè¯æ¥æ”¶åˆ°çš„è¯ä¹¦">å®¢æˆ·ç«¯å¦‚ä½•éªŒè¯æ¥æ”¶åˆ°çš„è¯ä¹¦</h3>
<p>ä¸ºäº†å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å¼•å…¥<code>æ•°å­—ç­¾å</code> (Digital Signature)ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">+---------------------+
| A digital signature |
|(not to be confused  |
|with a digital       |
|certificate)         |            +---------+              +--------+
| is a mathematical   |---- å“ˆå¸Œ ---&gt;| æ¶ˆæ¯æ‘˜è¦  |--- ç§é’¥åŠ å¯† ---&gt;| æ•°å­—ç­¾å |
|technique used       |            +---------+              +--------+
|to validate the      |
|authenticity and     |
|integrity of a       |
|message, software    |
|or digital document. |
+---------------------+
</code></pre></td></tr></table>
</div>
</div><p>å°†ä¸€æ®µæ–‡æœ¬é€šè¿‡å“ˆå¸Œï¼ˆhashï¼‰å’Œç§é’¥åŠ å¯†å¤„ç†åç”Ÿæˆæ•°å­—ç­¾åã€‚</p>
<p>å‡è®¾æ¶ˆæ¯ä¼ é€’åœ¨ Bobï¼ŒSusan å’Œ Pat ä¸‰äººä¹‹é—´å‘ç”Ÿã€‚Susan å°†æ¶ˆæ¯è¿åŒæ•°å­—ç­¾åä¸€èµ·å‘é€ç»™ Bobï¼ŒBob æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå¯ä»¥è¿™æ ·éªŒè¯æ¥æ”¶åˆ°çš„æ¶ˆæ¯å°±æ˜¯ Susan å‘é€çš„</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">+---------------------+
| A digital signature |
|(not to be confused  |
|with a digital       |
|certificate)         |              +---------+
| is a mathematical   |---- å“ˆå¸Œ ---&gt;|  æ¶ˆæ¯æ‘˜è¦ |
|technique used       |              +---------+
|to validate the      |                 |
|authenticity and     |                 |
|integrity of a       |                 |
|message, software    |                 å¯¹
|or digital document. |                 æ¯”
+---------------------+                 |
                                        |
                                        |
        +---------+               +----------+
        | æ•°å­—ç­¾å |--- å…¬é’¥è§£å¯† ---&gt;|  æ¶ˆæ¯æ‘˜è¦ |
        +---------+               +----------+
</code></pre></td></tr></table>
</div>
</div><p>å½“ç„¶ï¼Œè¿™ä¸ªå‰ææ˜¯ Bob çŸ¥é“ Susan çš„å…¬é’¥ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå’Œæ¶ˆæ¯æœ¬èº«ä¸€æ ·ï¼Œå…¬é’¥ä¸èƒ½åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸­ç›´æ¥å‘é€ç»™ Bobã€‚</p>
<p>æ­¤æ—¶å°±å¼•å…¥äº†<a href="https://en.wikipedia.org/wiki/Certificate_authority" target="_blank" rel="noopener noreffer">è¯ä¹¦é¢å‘æœºæ„</a>ï¼ˆCertificate Authorityï¼Œç®€ç§° CAï¼‰ï¼ŒCA æ•°é‡å¹¶ä¸å¤šï¼ŒBob å®¢æˆ·ç«¯å†…ç½®äº†æ‰€æœ‰å—ä¿¡ä»» CA çš„è¯ä¹¦ã€‚CA å¯¹ Susan çš„å…¬é’¥ï¼ˆå’Œå…¶ä»–ä¿¡æ¯ï¼‰æ•°å­—ç­¾ååç”Ÿæˆè¯ä¹¦ã€‚</p>
<p>Susan å°†è¯ä¹¦å‘é€ç»™ Bob åï¼ŒBob é€šè¿‡ CA è¯ä¹¦çš„å…¬é’¥éªŒè¯è¯ä¹¦ç­¾åã€‚</p>
<p>Bob ä¿¡ä»» CAï¼ŒCA ä¿¡ä»» Susan ä½¿å¾— Bob ä¿¡ä»» Susanï¼Œä¿¡ä»»é“¾ï¼ˆChain Of Trustï¼‰å°±æ˜¯è¿™æ ·å½¢æˆçš„ã€‚</p>
<p>äº‹å®ä¸Šï¼ŒBob å®¢æˆ·ç«¯å†…ç½®çš„æ˜¯ CA çš„æ ¹è¯ä¹¦ (Root Certificate)ï¼ŒHTTPS åè®®ä¸­æœåŠ¡å™¨ä¼šå‘é€è¯ä¹¦é“¾ï¼ˆCertificate Chainï¼‰ç»™å®¢æˆ·ç«¯ã€‚</p>
<h2 id="tls-åè®®">TLS åè®®</h2>
<p>TLS åè®®åŒ…æ‹¬ TLS Record Protocol å’Œ TLS Handshake Protocolã€‚æ€»è§ˆä¸­çš„æµç¨‹å›¾ä»…æ¶‰åŠåˆ° TLS Handshake Protocolã€‚</p>
<h3 id="tls-record-protocol">TLS Record Protocol</h3>
<p>åœ¨ TLS åè®®ä¸­ï¼Œæœ‰å››ç§å­åè®®è¿è¡Œäº Record protocol ä¹‹ä¸Š</p>
<ul>
<li>Handshake protocol</li>
<li>Alert protocol</li>
<li>Change cipher spec protocol</li>
<li>Application data protocol</li>
</ul>
<p>Record protocol èµ·åˆ°äº†è¿™æ ·çš„ä½œç”¨</p>
<ul>
<li>åœ¨å‘é€ç«¯ï¼šå°†æ•°æ®ï¼ˆRecordï¼‰åˆ†æ®µï¼Œå‹ç¼©ï¼Œå¢åŠ  MAC (Message Authentication Code) å’ŒåŠ å¯†</li>
<li>åœ¨æ¥æ”¶ç«¯ï¼šå°†æ•°æ®ï¼ˆRecordï¼‰è§£å¯†ï¼ŒéªŒè¯ MACï¼Œè§£å‹å¹¶é‡ç»„</li>
</ul>
<blockquote>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒRecord protocol æä¾›äº†æ•°æ®å®Œæ•´æ€§å’Œéšç§æ€§ä¿è¯ï¼Œä½† Record ç±»å‹ï¼ˆtypeï¼‰å’Œé•¿åº¦ï¼ˆlengthï¼‰æ˜¯å…¬å¼€ä¼ è¾“çš„</p>
</blockquote>
<p>Record Protocol æœ‰ä¸‰ä¸ªè¿æ¥çŠ¶æ€ (Connection State)ï¼Œè¿æ¥çŠ¶æ€å®šä¹‰äº†å‹ç¼©ï¼ŒåŠ å¯†å’Œ MAC ç®—æ³•ã€‚æ‰€æœ‰çš„ Record éƒ½æ˜¯è¢«å½“å‰çŠ¶æ€ï¼ˆCurrent Stateï¼‰ç¡®å®šçš„ç®—æ³•å¤„ç†çš„ã€‚</p>
<p><code>TLS Handshake Protocol</code> å’Œ <code>Change Ciper Spec Protocol</code> ä¼šå¯¼è‡´ <code>Record Protocol</code> çŠ¶æ€åˆ‡æ¢ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">empty state -------------------&gt; pending state ------------------&gt; current state
             Handshake Protocol                Change Cipher Spec
</code></pre></td></tr></table>
</div>
</div><p>åˆå§‹å½“å‰çŠ¶æ€ï¼ˆCurrent Stateï¼‰æ²¡æœ‰æŒ‡å®šåŠ å¯†ï¼Œå‹ç¼©å’Œ MAC ç®—æ³•ï¼Œå› è€Œåœ¨å®Œæˆ TLS Handshaking Protocols ä¸€ç³»åˆ—åŠ¨ä½œä¹‹å‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ•°æ®éƒ½æ˜¯<strong>æ˜æ–‡ä¼ è¾“</strong>çš„ï¼›å½“ TLS å®Œæˆæ¡æ‰‹è¿‡ç¨‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç¡®å®šäº†åŠ å¯†ï¼Œå‹ç¼©å’Œ MAC ç®—æ³•åŠå…¶å‚æ•°ï¼Œæ•°æ®ï¼ˆRecordï¼‰ä¼šé€šè¿‡æŒ‡å®šç®—æ³•å¤„ç†ã€‚</p>
<blockquote>
<p>å…¶ä¸­ï¼ŒRecord é¦–å…ˆè¢«åŠ å¯†ï¼Œç„¶åæ·»åŠ  MACï¼ˆmessage authentication codeï¼‰ä»¥ä¿è¯æ•°æ®å®Œæ•´æ€§ã€‚</p>
</blockquote>
<h3 id="tls-handshaking-protocols">TLS Handshaking Protocols</h3>
<p>Handshakeing protocols åŒ…æ‹¬ Alert Protocolï¼ŒChange Ciper Spec Protocol å’Œ Handshake protocolã€‚æœ¬æ–‡ä¸ä¼šè¯¦ç»†ä»‹ç» Alert Protocol å’Œ Change Ciper Spec Protocolã€‚</p>
<p>ä½¿ç”¨ RSA ç®—æ³•çš„æ¡æ‰‹è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼ˆå·²åœ¨æ€»è§ˆä¸­æåˆ°ï¼‰</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/ssl_handshake_rsa.webp" title="/images/Network/HTTPS/ssl_handshake_rsa.webp" data-thumbnail="/images/Network/HTTPS/ssl_handshake_rsa.webp" data-sub-html="<h2>Source: Keyless SSL: The Nitty Gritty Technical Details</h2>">
        
    </a><figcaption class="image-caption">Source: <a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">Keyless SSL: The Nitty Gritty Technical Details</a></figcaption>
    </figure>
<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åœ¨æ¡æ‰‹ hello æ¶ˆæ¯ä¸­æ˜æ–‡äº¤æ¢äº† client_random å’Œ server_random ï¼Œä½¿ç”¨ RSA å…¬é’¥åŠ å¯†ä¼ è¾“ premaster secret ï¼Œæœ€åé€šè¿‡ç®—æ³•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ†åˆ«è®¡ç®— master secretã€‚å…¶ä¸­ï¼Œä¸ç›´æ¥ä½¿ç”¨ premaster secret çš„åŸå› æ˜¯ï¼šä¿è¯ secret çš„éšæœºæ€§ä¸å—ä»»æ„ä¸€æ–¹çš„å½±å“ã€‚</p>
<p>é™¤äº†ä½¿ç”¨ RSA ç®—æ³•åœ¨å…¬å…±ä¿¡é“äº¤æ¢å¯†é’¥ï¼Œè¿˜å¯ä»¥é€šè¿‡ Diffieâ€“Hellman ç®—æ³•ã€‚Diffieâ€“Hellman ç®—æ³•çš„åŸç†æ˜¯è¿™æ ·çš„</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/Diffie-Hellman_Key_Exchange.webp" title="/images/Network/HTTPS/Diffie-Hellman_Key_Exchange.webp" data-thumbnail="/images/Network/HTTPS/Diffie-Hellman_Key_Exchange.webp" data-sub-html="<h2>By Original schema: A.J. Han Vinck, University of Duisburg-Essen SVG version: Flugaal [Public domain], via Wikimedia Commons</h2>">
        
    </a><figcaption class="image-caption">By Original schema: A.J. Han Vinck, University of Duisburg-Essen SVG version: Flugaal [Public domain], via Wikimedia Commons</figcaption>
    </figure>
<p>ä½¿ç”¨ Diffieâ€“Hellman ç®—æ³•äº¤æ¢ <code>premaster secret</code> çš„æµç¨‹</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/ssl_handshake_diffie_hellman.webp" title="/images/Network/HTTPS/ssl_handshake_diffie_hellman.webp" data-thumbnail="/images/Network/HTTPS/ssl_handshake_diffie_hellman.webp" data-sub-html="<h2>Source: Keyless SSL: The Nitty Gritty Technical Details</h2>">
        
    </a><figcaption class="image-caption">Source: <a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">Keyless SSL: The Nitty Gritty Technical Details</a></figcaption>
    </figure>
<h2 id="å°ç»“">å°ç»“</h2>
<p>TLS Handshaking Protocols åå•†äº† TLS Record Protocol ä½¿ç”¨çš„ç®—æ³•å’Œæ‰€éœ€å‚æ•°ï¼Œå¹¶éªŒè¯äº†æœåŠ¡ç«¯èº«ä»½ï¼›</p>
<p>TLS Record Protocol åœ¨åå•†åä¿è¯åº”ç”¨å±‚æ•°æ®çš„å®Œæ•´æ€§å’Œéšç§æ€§ã€‚</p>
<p>TLS Handshaking Protocol çš„æ ¸å¿ƒæ˜¯åœ¨å…¬å¼€ä¿¡é“ä¸Šä¼ é€’ premaster secretã€‚</p>
<h2 id="qa">Q&amp;A</h2>
<h3 id="ä¸ºä»€ä¹ˆä¼ è¾“å†…å®¹ä¸ç›´æ¥ä½¿ç”¨éå¯¹ç§°åŠ å¯†">ä¸ºä»€ä¹ˆä¼ è¾“å†…å®¹ä¸ç›´æ¥ä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼Ÿ</h3>
<p>å› ä¸ºæ€§èƒ½é™åˆ¶ã€‚</p>
<h3 id="https-èƒ½ä¿è¯æ­£å¸¸è¿æ¥">HTTPS èƒ½ä¿è¯æ­£å¸¸è¿æ¥ï¼Ÿ</h3>
<p>ä¸èƒ½ã€‚</p>
<blockquote>
<p>There are a number of ways in which a man-in-the-middle attacker can attempt to make two entities drop down to the least secure method they support.</p>
</blockquote>
<p>æ”»å‡»è€…ç”šè‡³å¯ä»¥ç›´æ¥ä¸¢å¼ƒåŒæ–¹çš„æ•°æ®åŒ…</p>
<h3 id="æœåŠ¡ç«¯å¦‚ä½•éªŒè¯å®¢æˆ·ç«¯èº«ä»½">æœåŠ¡ç«¯å¦‚ä½•éªŒè¯å®¢æˆ·ç«¯èº«ä»½ï¼Ÿ</h3>
<p>é€šè¿‡ Client Certificate</p>
<blockquote>
<p>This message conveys the clientâ€™s certificate chain to the server; the server will use it when verifying the CertificateVerify message (when the client authentication is based on signing) or calculating the premaster secret (for non-ephemeral Diffie- Hellman). The certificate MUST be appropriate for the negotiated cipher suiteâ€™s key exchange algorithm, and any negotiated extensions.</p>
</blockquote>
<h3 id="alert-protocol-æœ‰ä»€ä¹ˆä½œç”¨">Alert protocol æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h3>
<p>Closure Alertsï¼šé˜²æ­¢ Truncation Attack</p>
<blockquote>
<p>In a truncation attack, an attacker inserts into a message a TCP code indicating the message has finished, thus preventing the recipient picking up the rest of the message. To prevent this, SSL from version v3 onward has a closing handshake, so the recipient knows the message has not ended until this has been performed.</p>
</blockquote>
<p>Error Alertsï¼šé”™è¯¯å¤„ç†</p>
<h3 id="master-secret-æ˜¯å¦‚ä½•è®¡ç®—çš„">master secret æ˜¯å¦‚ä½•è®¡ç®—çš„</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">  master_secret = PRF (pre_master_secret, &#34;master secret&#34;,
                      ClientHello.random + ServerHello.random)
                      [0..47];
</code></pre></td></tr></table>
</div>
</div><h3 id="åŠ å¯†å‹ç¼©å’Œ-mac-ç®—æ³•å‚æ•°æ˜¯å¦‚ä½•è®¡ç®—çš„">åŠ å¯†ï¼Œå‹ç¼©å’Œ MAC ç®—æ³•å‚æ•°æ˜¯å¦‚ä½•è®¡ç®—çš„</h3>
<p>Handshaking Protocols ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯äº¤æ¢äº†ä¸‰ä¸ªå‚æ•°ï¼šclient_randomï¼Œserver_random å’Œ master_secretï¼Œé€šè¿‡ä»¥ä¸‹ç®—æ³•ç”Ÿæˆç®—æ³•æ‰€éœ€è¦çš„å‚æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">To generate the key material, compute

  key_block = PRF (SecurityParameters.master_secret,
                  &#34;key expansion&#34;,
                  SecurityParameters.`server_random` +
                  SecurityParameters.`client_random`);

until enough output has been generated.  Then, the key_block is
partitioned as follows:

  client_write_MAC_key [SecurityParameters.mac_key_length]
  server_write_MAC_key [SecurityParameters.mac_key_length]
  client_write_key [SecurityParameters.enc_key_length]
  server_write_key [SecurityParameters.enc_key_length]
  client_write_IV [SecurityParameters.fixed_iv_length]
  server_write_IV [SecurityParameters.fixed_iv_length]
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>The master secret is expanded into a sequence of secure bytes, which is then split to a client write MAC key, a server write MAC key, a client write encryption key, and a server write encryption key</p>
</blockquote>
<p>ä½¿ç”¨ Diffie-Hellman ç®—æ³•çš„ TLS æ¡æ‰‹ç»†èŠ‚</p>
<figure><a class="lightgallery" href="/images/Network/HTTPS/dh-detail.webp" title="/images/Network/HTTPS/dh-detail.webp" data-thumbnail="/images/Network/HTTPS/dh-detail.webp" data-sub-html="<h2>Source: https://cipherstuff.wordpress.com/</h2>">
        
    </a><figcaption class="image-caption">Source: <a href="https://cipherstuff.wordpress.com/">https://cipherstuff.wordpress.com/</a></figcaption>
    </figure>
<h2 id="æ‹“å±•é˜…è¯»">æ‹“å±•é˜…è¯»</h2>
<ul>
<li><a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">Keyless</a></li>
<li><a href="https://letsencrypt.org/" target="_blank" rel="noopener noreffer">Letâ€™s Encrypt</a></li>
<li>Session resume</li>
<li>è¯ä¹¦Revoke</li>
</ul>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://tools.ietf.org/html/rfc5246" target="_blank" rel="noopener noreffer">TLS1.2è§„èŒƒ</a></p>
</li>
<li>
<p>[2] <a href="https://tools.ietf.org/html/rfc5280" target="_blank" rel="noopener noreffer">PKIè§„èŒƒ</a></p>
</li>
<li>
<p>[3] <a href="http://www.youdzone.com/signature.html" target="_blank" rel="noopener noreffer">è¯ä¹¦å’Œæ•°å­—ç­¾å</a></p>
</li>
<li>
<p>[4] <a href="https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/" target="_blank" rel="noopener noreffer">TLS Handshake</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>å¦‚ä½•é«˜æ•ˆæœç´¢ï¼Ÿ</title>
    <link>https://www.techkoala.top/how_to_search/</link>
    <pubDate>Fri, 14 Aug 2020 12:50:34 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/how_to_search/</guid>
    <description><![CDATA[<blockquote>
<p>å¦‚ä½•åœ¨äº’è”ç½‘ä¸Šé«˜æ•ˆåœ°æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ä¸œè¥¿ï¼Ÿ</p>
</blockquote>
<p>æœç´¢å¼•æ“æ–¹ä¾¿äº†æˆ‘ä»¬æœç´¢èµ„æ–™ï¼Œä½†æ˜¯ç”±äºå„ç§åƒåœ¾å†…å®¹ã€ç½‘ç«™åœ°å‡ºç°ï¼Œå®é™…ä¸Šï¼Œæœç´¢è¿‡ç¨‹å¾€å¾€æ˜¯ååˆ†ä½æ•ˆçš„ï¼ˆç‰¹åˆ«æ˜¯ä½¿ç”¨ä¸­æ–‡æœç´¢ï¼‰ã€‚å› æ­¤ï¼Œå€¼å¾—å­¦ä¹ ä¸€äº›æå‡æœç´¢æ•ˆç‡å¿…è¦çš„å°æŠ€å·§ã€‚</p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥åˆ†ç±»è®²è§£ï¼š</p>
<h2 id="æœç´¢è¯­æ³•">æœç´¢è¯­æ³•</h2>
<p>é¦–å…ˆæ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„è¯­æ³•è¡¨è¾¾å¼ï¼š</p>
<table>
<thead>
<tr>
<th>operator</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ldquo;phrase&rdquo;</td>
<td>ç»“æœå¿…é¡»åŒ…å« &ldquo;phrase&rdquo;</td>
</tr>
<tr>
<td>- phrase</td>
<td>ç»“æœæ’é™¤ phrase</td>
</tr>
<tr>
<td>A AND B</td>
<td>A å’Œ B å¿…é¡»åŒæ—¶åŒ…å«</td>
</tr>
<tr>
<td>A OR B</td>
<td>å¿…é¡»åŒ…æ‹¬ A å’Œ B ä¹‹ä¸€ï¼ˆæˆ–ä¸¤è€…ï¼‰</td>
</tr>
<tr>
<td>site:example.com</td>
<td>åœ¨ç½‘ç«™ä¸­æœç´¢</td>
</tr>
<tr>
<td>filetype:jpg</td>
<td>ç»“æœå¿…é¡»åŒ…å«ç±»å‹ .jpg</td>
</tr>
</tbody>
</table>
<h2 id="å®ä¾‹å±•ç¤º">å®ä¾‹å±•ç¤º</h2>
<h3 id="ç½‘é¡µ">ç½‘é¡µ</h3>
<p>æŸ¥æ‰¾ç½‘ç«™å†…çš„ç‰¹å®šé¡µé¢ï¼ˆä¾‹å¦‚ï¼šæœ¬ç½‘ç«™ä¸Šçš„ <code>Trick</code> æ ‡ç­¾ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">site:www.techkoala.top Trick
</code></pre></td></tr></table>
</div>
</div><p>æŸ¥æ‰¾å¿…é¡»åœ¨æ ‡é¢˜æ–‡æœ¬ä¸­åŒ…å«çŸ­è¯­çš„ç‰¹å®šé¡µé¢</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">allintitle:&#34;Github&#34; site:techkoala.com
</code></pre></td></tr></table>
</div>
</div><p>æŸ¥æ‰¾ç±»ä¼¼ç½‘ç«™ï¼ˆä»…è°·æ­Œæœç´¢ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">related:techkoala.com
</code></pre></td></tr></table>
</div>
</div><p>æ‚¨å¯ä»¥å°†è¿ç®—ç¬¦é“¾æ¥åœ¨ä¸€èµ· ï¼ˆä¾‹å¦‚ï¼šåœ¨ Url ä¸­æŸ¥æ‰¾å…·æœ‰å®‰å…¨æ€§æˆ–é”™è¯¯èµé‡‘ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">inurl:security OR inurl:bug-bounty OR site:hackerone.com) + &#34;techkoala&#34;
</code></pre></td></tr></table>
</div>
</div><p>æ‚¨å¯ä»¥é™åˆ¶ä¸ºæŸäº›é¡¶çº§åŸŸï¼ˆä¾‹å¦‚ï¼šæ•™å¸ˆåˆ—è¡¨ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">site:.edu filetype:xls inurl:&#34;email.xls&#34;
</code></pre></td></tr></table>
</div>
</div><h3 id="email">Email</h3>
<p>æŸ¥æ‰¾ Gmail å¸æˆ·</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">username &#34;@gmail.com&#34;
</code></pre></td></tr></table>
</div>
</div><p>æŸ¥æ‰¾å·¥ä½œå¸æˆ·ï¼ˆæ‚¨éœ€è¦å…ˆæ‰¾åˆ°ä»–ä»¬çš„åŸŸï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">username  &#34;@techkoala.top&#34;
</code></pre></td></tr></table>
</div>
</div><p>æ¨¡ç³Šæœç´¢çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°è¯•çŒœæµ‹ç”µå­é‚®ä»¶çš„æ ¼å¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&#34;username&#34; &#34;@&#34; &#34;.com&#34;
</code></pre></td></tr></table>
</div>
</div><p>åœ¨ç½‘ç«™ä¸ŠæŸ¥æ‰¾ç”µå­é‚®ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">site:gumroad.com intext:&#34;@gumroad.com&#34;
</code></pre></td></tr></table>
</div>
</div><p>åœ¨ç½‘é¡µä¸ŠæŸ¥æ‰¾æ‚¨è®¿é—®çš„æ¯å°ç”µå­é‚®ä»¶ï¼Œé€‚ç”¨äºæ¯ä¸ªç½‘ç«™ï¼Œå°†å…¶æ³¨å…¥ Chrome å¼€å‘å·¥å…·</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">var elems = document.body.getElementsByTagName (&#34;*&#34;);
var re = new RegExp (&#34;(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$)&#34;);
for (var i = 0; i &lt; elems.length; i++) {
    if (re.test (elems [i].innerHTML)) {
        console.log (elems [i].innerHTML);
    }
}
</code></pre></td></tr></table>
</div>
</div><p>è¿™å°†è®°å½•æ‰¾åˆ°çš„æ¯å°ç”µå­é‚®ä»¶ï¼Œè€Œæ— éœ€æ‰«ææ•´ä¸ªé¡µé¢ã€‚</p>
<h3 id="æ–‡ä»¶">æ–‡ä»¶</h3>
<p>æŸ¥æ‰¾ç”µå­è¡¨æ ¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">filetype:csv OR filetype:xlsx OR filetype:xls OR filetype:xltx OR filetype:xlt OR inurl:airtable.com/universe/
</code></pre></td></tr></table>
</div>
</div><p>æŸ¥æ‰¾è°·æ­Œæ–‡æ¡£å’Œè°·æ­Œè¡¨æ ¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">site:docs.google.com &#34;techkoala&#34;
</code></pre></td></tr></table>
</div>
</div><h3 id="seo">SEO</h3>
<p>åœ¨é”šæ–‡æœ¬ä¸­æŸ¥æ‰¾å…·æœ‰ç‰¹å®šå…³é”®å­—çš„ç½‘ç«™</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">inanchor:&#34;cyber security&#34;
</code></pre></td></tr></table>
</div>
</div><p>ç ”ç©¶æ ‡é¢˜ä¸­åŒ…å«ç‰¹å®šå…³é”®å­—çš„åšå®¢å¸–å­</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">inposttitle:&#34;diy slime&#34;
</code></pre></td></tr></table>
</div>
</div><p>æŸ¥æ‰¾åå‘é“¾æ¥ (ä¾‹å¦‚ï¼šé“¾æ¥åˆ°ç‰¹å®šåšå®¢å¸–å­çš„å…¶ä»–ç½‘ç«™)ã€‚æ³¨æ„ï¼šé“¾æ¥è¿ç®—ç¬¦ <code>link</code> ç°åœ¨å·²å¼ƒç”¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">intext:intercom.com/intercom-api-reference/reference
</code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨é€šé…ç¬¦è¿ç®—ç¬¦æŸ¥æ‰¾å…³é”®å­—æ’åˆ—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">* design tools
</code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨ç»™å®šçš„ widget æŸ¥æ‰¾å…¬å¸</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">intext:&#34;Powered by Intercom&#34; -site:intercom.com
</code></pre></td></tr></table>
</div>
</div><h1 id="å¾…æ›´æ–°">å¾…æ›´æ–°&hellip;</h1>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://www.alec.fyi/dorking-how-to-find-anything-on-the-internet.html" target="_blank" rel="noopener noreffer">dorking (how to find anything on the Internet)</a></p>
</li>
<li>
<p>[2] <a href="https://ahrefs.com/blog/google-advanced-search-operators/" target="_blank" rel="noopener noreffer">Google Search Operators: The Complete List (42 Advanced Operators)</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>åˆ©ç”¨ Netlify æ­å»º Koodo Reader</title>
    <link>https://www.techkoala.top/reader/</link>
    <pubDate>Wed, 12 Aug 2020 11:22:58 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/reader/</guid>
    <description><![CDATA[<blockquote>
<p>æ­å»ºè‡ªå·±çš„åœ¨çº¿ EPUB é˜…è¯»å™¨</p>
</blockquote>
<h2 id="ä»€ä¹ˆæ˜¯-netlify">ä»€ä¹ˆæ˜¯ Netlify</h2>
<p>å¼•ç”¨ <a href="https://www.netlify.com/" target="_blank" rel="noopener noreffer">Netlify å®˜ç½‘</a>çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>Netlify is a unified platform that automates your code to create high-performant, easily maintainable sites and web apps.</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒNetlify æ˜¯ä¸€ä¸ªæä¾›é™æ€ç½‘ç«™æ‰˜ç®¡çš„æœåŠ¡ã€‚å®ƒæä¾›CIæœåŠ¡ï¼Œèƒ½å¤Ÿå°†æ‰˜ç®¡åœ¨ GitHubï¼ŒGitLab ç­‰ç½‘ç«™ä¸Šä»£ç ç”Ÿæˆé™æ€ç½‘ç«™è¿›è¡Œå±•ç¤ºã€‚ç±»ä¼¼äº Github Pagesï¼Œä¸è¿‡åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€‚</p>
<h2 id="koodo-reader">Koodo Reader</h2>
<p>Koodo Reader æ˜¯ä¸€ä¸ªåŸºäº React å’Œ Electron å¼€å‘çš„ Epub é˜…è¯»å™¨ã€‚</p>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/koodo1.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/koodo1.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/koodo1.webp" data-sub-html="<h2>Koodo Reader é¦–é¡µ</h2>">
        
    </a><figcaption class="image-caption">Koodo Reader é¦–é¡µ</figcaption>
    </figure>
<p>æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<blockquote>
<p>ğŸ“ å¼ºå¤§ç¬”è®°å’Œç¿»è¯‘åŠŸèƒ½ï¼Œå­¦ä¹ äº‹åŠåŠŸå€</p>
<p>ğŸš© ä½¿ç”¨ä¹¦æ¶æ¥ä¸ºä½ çš„å›¾ä¹¦åˆ†ç±»</p>
<p>ğŸŒ æ”¯æŒ <strong>Windows</strong> ï¼Œ <strong>MacOS</strong> å’Œ <strong>ç½‘é¡µç‰ˆ</strong></p>
<p>ğŸ–¥ ç»‘å®š <strong>OneDrive</strong>ï¼Œ <strong>Google Drive</strong>ï¼Œ <strong>Dropbox</strong> ç­‰ç½‘ç›˜ï¼Œå®ç°æ•°æ®çš„å¤šç«¯åŒæ­¥</p>
<p>ğŸ’» æ‚¨æ‰€æœ‰çš„æ•°æ®éƒ½æ”¯æŒå¯¼å…¥å¯¼å‡º</p>
</blockquote>
<p>æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡» <a href="https://koodo.960960.xyz/" target="_blank" rel="noopener noreffer">Koodo Reader å®˜ç½‘</a> æŸ¥çœ‹ã€‚</p>
<h2 id="æ­å»º">æ­å»º</h2>
<ol>
<li>é¦–å…ˆè¿›å…¥ <a href="https://www.netlify.com/" target="_blank" rel="noopener noreffer">Netlify å®˜ç½‘</a>ï¼Œç‚¹å‡»æ³¨å†Œï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ç›´æ¥ä½¿ç”¨Githubç™»å½•ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–æ–¹å¼ã€‚</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Sign_Up.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Sign_Up.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Sign_Up.webp" data-sub-html="<h2>Netlify æ³¨å†Œ</h2>">
        
    </a><figcaption class="image-caption">Netlify æ³¨å†Œ</figcaption>
    </figure>
<ol start="2">
<li>æ³¨å†Œç™»é™†åï¼Œè¿›å…¥é¦–é¡µï¼Œç‚¹å‡»å³ä¸Šè§’çš„ New Site from Git ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç«™ç‚¹ã€‚</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site.webp" data-sub-html="<h2>åˆ›å»ºæ–°ç«™ç‚¹</h2>">
        
    </a><figcaption class="image-caption">åˆ›å»ºæ–°ç«™ç‚¹</figcaption>
    </figure>
<ol start="3">
<li>æ¥ä¸‹æ¥ï¼Œç‚¹å‡»ä¸‹æ–¹çš„ Github è¿›è¡Œæˆæƒï¼Œè¿™é‡Œä¼šå¼¹å‡ºä¸€ä¸ªæ–°çš„çª—å£ï¼Œè®©ä½ æˆæƒ Netlify è®¿é—®ä½ çš„ Github è´¦æˆ·ï¼Œå®Œæˆæˆæƒåè¿›å»ä¸‹ä¸€æ­¥ã€‚</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_github.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_github.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_github.webp" data-sub-html="<h2>ä½¿ç”¨Github åˆ›å»ºæ–°ç«™ç‚¹</h2>">
        
    </a><figcaption class="image-caption">ä½¿ç”¨Github åˆ›å»ºæ–°ç«™ç‚¹</figcaption>
    </figure>
<ol start="4">
<li>è¿™ä¸€æ­¥ä¼šè®©ä½ é€‰æ‹©ä½ å°†ç”¨äºç”Ÿæˆç«™ç‚¹çš„åº“ï¼Œè¿™é‡Œæˆ‘å·²ç»æå‰ Fork <a href="https://github.com/troyeguo/koodo-reader" target="_blank" rel="noopener noreffer">troyeguo çš„ Koodo Reader åº“</a>ï¼Œæ‰€ä»¥ç›´æ¥é€‰æ‹©å³å¯ã€‚</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_Auth.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_Auth.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/New_site_Auth.webp" data-sub-html="<h2>é€‰æ‹©ç›¸åº”çš„ Repo</h2>">
        
    </a><figcaption class="image-caption">é€‰æ‹©ç›¸åº”çš„ Repo</figcaption>
    </figure>
<ol start="5">
<li>æ¥ç€ï¼Œé…ç½® Build é€‰é¡¹ã€‚åœ¨è¯¥é¡¹ç›®çš„éƒ¨ç½²ä¸­ï¼Œéœ€è¦ä¿®æ”¹ <code>Build name &gt; yarn build</code>ï¼Œ<code>Publish directory &gt; build/ </code>ï¼Œå…¶ä»–ä¿æŒé»˜è®¤å³å¯ã€‚ï¼ˆå¦‚æœé…ç½®å…¶ä»–é¡¹ç›®ï¼Œè¿™é‡Œçš„å‚æ•°å¯èƒ½ä¸åŒï¼Œè¯·å‚è€ƒå…·ä½“é¡¹ç›®çš„æŒ‡å¯¼è¯´æ˜ï¼‰</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Site_Setting.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Site_Setting.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Site_Setting.webp" data-sub-html="<h2>é…ç½®</h2>">
        
    </a><figcaption class="image-caption">é…ç½®</figcaption>
    </figure>
<ol start="6">
<li>åˆ°è¿™é‡Œï¼Œå·²ç»å®Œæˆäº†æ•´ä¸ªéƒ¨ç½²å·¥ä½œï¼Œç­‰å¾… Netlify æ„å»ºå®Œæˆå³åˆ»ã€‚</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Deploying.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Deploying.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Deploying.webp" data-sub-html="<h2>é…ç½®</h2>">
        
    </a><figcaption class="image-caption">é…ç½®</figcaption>
    </figure>
<ol start="7">
<li>Netlify ä¼šç»™ä½ é»˜è®¤åˆ†é…ä¸€ä¸ªäºŒçº§åŸŸåç”¨äºè®¿é—®ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œè¿™é‡Œæˆ‘ç»‘å®šäº†è‡ªå·±åŸŸåã€‚é™¤äº†åœ¨æ­¤å¤„ç»‘å®šå¤–ï¼Œè¿˜éœ€è¦é…ç½® DNS ç­‰ç­‰ï¼Œè¿™ä¸ªè¯·è‡ªè¡Œå®Œæˆã€‚ï¼ˆç”±äºæ­å»ºåšå®¢æ—¶ï¼Œå·²ç»å®Œæˆäº†ç›¸åº”è®¾ç½®ï¼Œå› æ­¤ï¼Œæˆ‘ç›´æ¥åœ¨ Cloudfalre æ–°å»ºäº†ä¸€ä¸ª CNAME æŒ‡å‘ Netlify ç»™æˆ‘çš„åŸŸåå°±å¥½äº†ï¼‰</li>
</ol>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Domain_Setting.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Domain_Setting.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Web/Reader/Domain_Setting.webp" data-sub-html="<h2>é…ç½®</h2>">
        
    </a><figcaption class="image-caption">é…ç½®</figcaption>
    </figure>
<ol start="8">
<li>å¤§åŠŸå‘Šæˆï¼Œæ¥<a href="https://reader.techkoala.top/" target="_blank" rel="noopener noreffer">è¿™é‡Œ</a>çœ‹çœ‹ä¹¦å§ã€‚</li>
</ol>
<h2 id="åç»­">åç»­</h2>
<p>å¦‚æœéœ€è¦å¯¹ç½‘ç«™è¿›è¡Œæ›´æ–°ï¼Œåªéœ€è¦å…³æ³¨ä½ çš„ Github Repo å³å¯ã€‚æ¯æ¬¡ commit ä¹‹åï¼ŒNetlify éƒ½ä¼šè‡ªåŠ¨æ‹‰å–æ›´æ–°å¹¶ç”Ÿæˆã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>[1] <a href="https://github.com/troyeguo/koodo-reader" target="_blank" rel="noopener noreffer">koodo-reader</a></li>
</ul>]]></description>
</item><item>
    <title>ç½‘ç»œæµ‹è¯•å·¥å…·ï¼šiPerf</title>
    <link>https://www.techkoala.top/iperf/</link>
    <pubDate>Fri, 07 Aug 2020 17:45:55 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/iperf/</guid>
    <description><![CDATA[<blockquote>
<p>TCPã€UDP å’Œ SCTP çš„ç»ˆæé€Ÿåº¦æµ‹è¯•å·¥å…·</p>
</blockquote>
<h2 id="ä»€ä¹ˆæ˜¯-iperf">ä»€ä¹ˆæ˜¯ iPerf</h2>
<p>iPerf æ˜¯ä¸€ä¸ªç”¨äºæµ‹é‡ç½‘ç»œæœ€å¤§å¸¦å®½çš„å°å·¥å…·ã€‚iPerf å¯ä»¥æµ‹è¯•æœ€å¤§ TCP å’Œ UDP å¸¦å®½æ€§èƒ½ï¼Œå…·æœ‰å¤šç§å‚æ•°å’Œ UDP ç‰¹æ€§ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ï¼Œå¯ä»¥æŠ¥å‘Šå¸¦å®½ã€å»¶è¿ŸæŠ–åŠ¨å’Œæ•°æ®åŒ…ä¸¢å¤±ã€‚å¯¹äºæ¯ä¸ªæµ‹è¯•ï¼Œå®ƒéƒ½ä¼šæŠ¥å‘Šå¸¦å®½ï¼Œä¸¢åŒ…å’Œå…¶ä»–å‚æ•°ã€‚</p>
<p>ç°åœ¨çš„ç‰ˆæœ¬ä¹Ÿç§° iPerf3ï¼Œè¿™æ˜¯å¯¹ NLANR/DAST å¼€å‘çš„åŸå§‹ç‰ˆæœ¬çš„é‡æ–°è®¾è®¡ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šiPerf3 ä¸æ­¤å‰ç‰ˆæœ¬çš„ iPerf ä¸å…¼å®¹ã€‚</p>
<h2 id="å®‰è£…-iperf">å®‰è£… iPerf</h2>
<p>iPerf3 å®˜æ–¹ä»…æ”¯æŒ CentOS Linuxï¼ŒFreeBSD å’Œ macOSï¼Œä½†å®é™…ä¸Šï¼Œ<a href="https://iperf.fr/iperf-download.php" target="_blank" rel="noopener noreffer">å®˜ç½‘</a>æä¾›äº†ä¸»æµç³»ç»Ÿçš„é¢„ç¼–è¯‘æ–‡ä»¶ã€‚ï¼ˆåŒ…æ‹¬ Windowsã€Androidã€iOSã€Ubuntuã€Arch Linux ç­‰ï¼‰</p>
<p>ç±» UNIX ç³»ç»Ÿç›´æ¥ä½¿ç”¨åŒ…ç®¡ç†è¿›è¡Œå®‰è£…å³å¯ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ sudo apt install iperf3
</code></pre></td></tr></table>
</div>
</div><h2 id="ä½¿ç”¨-iperf">ä½¿ç”¨ iPerf</h2>
<p>é¦–å…ˆï¼Œä»‹ç»æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å…±æœ‰çš„å‚æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-p, --port n      æœåŠ¡å™¨ç”¨äºä¾¦å¬å’Œå®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ç«¯å£ï¼Œä¸¤è€…åº”è¯¥ç›¸åŒï¼Œé»˜è®¤å€¼ä¸º <span class="m">5201</span>
--cport n         æŒ‡å®šå®¢æˆ·ç«¯ç«¯å£
-f, --format      ç”¨äºæŒ‡å®šå•ä½æ˜¾ç¤ºæ ¼å¼ï¼Œæ”¯æŒ <span class="s1">&#39;k&#39;</span> <span class="o">=</span> Kbits/sec <span class="s1">&#39;K&#39;</span> <span class="o">=</span> KBytes/sec <span class="s1">&#39;m&#39;</span> <span class="o">=</span> Mbits/sec <span class="s1">&#39;M&#39;</span> <span class="o">=</span> MBytes/secï¼Œé»˜è®¤ä¸ºè‡ªé€‚åº”æ ¼å¼
-i, --interval n  è®¾ç½®æµ‹è¯•ä¿¡æ¯æŠ¥å‘Šä¹‹é—´çš„é—´éš”æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœä¸ºé›¶ï¼Œåˆ™ä¸æ‰“å°ä»»ä½•å®šæœŸæŠ¥å‘Šã€‚é»˜è®¤å€¼ä¸ºé›¶ã€‚
-F, --file name   å®¢æˆ·ç«¯ï¼šä»æ–‡ä»¶è¯»å–å¹¶å†™å…¥ç½‘ç»œï¼Œè€Œä¸æ˜¯ä½¿ç”¨éšæœºæ•°æ®ï¼›æœåŠ¡å™¨ç«¯ï¼šä»ç½‘ç»œè¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸¢å¼ƒæ•°æ®ã€‚
-A, --affinity    å¦‚æœå¯ä»¥ï¼Œè®¾ç½® CPU å…³è”ï¼ˆä»…é™ Linux å’Œ FreeBSDï¼‰ã€‚
-B, --bind host   ç»‘å®šåˆ°ä¸»æœºã€‚å¯¹äºå®¢æˆ·ç«¯ï¼Œè¿™å°†è®¾ç½®å‡ºç«™æ¥å£ã€‚å¯¹äºæœåŠ¡å™¨ï¼Œè¿™å°†è®¾ç½®ä¼ å…¥æ¥å£ã€‚è¿™åªé€‚ç”¨äºå…·æœ‰å¤šä¸ªç½‘ç»œæ¥å£çš„å¤šå®¿ä¸»ä¸»æœºã€‚
-V, --verbose     æä¾›æ›´è¯¦ç»†çš„è¾“å‡º
-J, --json        ä»¥ JSON æ ¼å¼è¾“å‡º
--logfile file    è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶
--d, --debug      å‘å‡ºè°ƒè¯•è¾“å‡º
-v, --version     è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯
-h, --help        è¾“å‡ºå¸®åŠ©ä¿¡æ¯
</code></pre></td></tr></table>
</div>
</div><p>æœåŠ¡ç«¯ç‰¹æœ‰å‚æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-s, --server      åœ¨æœåŠ¡å™¨æ¨¡å¼ä¸‹è¿è¡Œ iPerfï¼ˆä¸€æ¬¡åªå…è®¸ä¸€ä¸ª iPerf è¿æ¥ï¼‰
-D, --daemon      å°†æœåŠ¡å™¨ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œ
-I, --pidfilefile ä½¿ç”¨è¿›ç¨‹IDç¼–å†™æ–‡ä»¶ï¼Œè¿™åœ¨ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œæ—¶éå¸¸æœ‰ç”¨
</code></pre></td></tr></table>
</div>
</div><p>å®¢æˆ·ç«¯ç‰¹æœ‰å‚æ•°:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-c, --client host	    åœ¨å®¢æˆ·ç«¯æ¨¡å¼ä¸‹è¿è¡Œ iPerf
--sctp	                ä½¿ç”¨ SCTP è€Œä¸æ˜¯ TCP
-u, --udp	            ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCP
-b, --bandwidth      	å°†ç›®æ ‡å¸¦å®½è®¾ç½®ä¸º nbits/secï¼ˆå¯¹äº UDP é»˜è®¤ä¸º <span class="m">1</span> Mbit/secï¼Œå¯¹äº TCP ä¸ºæ— é™åˆ¶ï¼‰ã€‚å¦‚æœæœ‰å¤šä¸ªæµï¼ˆ-P æ ‡å¿—ï¼‰ï¼Œåˆ™å¸¦å®½é™åˆ¶å°†åˆ†åˆ«åº”ç”¨äºæ¯ä¸ªæµã€‚æ‚¨è¿˜å¯ä»¥åœ¨å¸¦å®½è¯´æ˜ç¬¦ä¸­æ·»åŠ ä¸€ä¸ª â€œ/â€ å’Œä¸€ä¸ªæ•°å­—ã€‚è¿™ç§°ä¸º â€œçªå‘æ¨¡å¼â€ã€‚ å®ƒä¼šå‘é€ç»™å®šæ•°é‡çš„æ•°æ®åŒ…è€Œä¸ä¼šæš‚åœï¼Œå³ä½¿è¯¥æ•°æ®åŒ…æš‚æ—¶è¶…è¿‡äº†æŒ‡å®šçš„å¸¦å®½é™åˆ¶
-t, --time  	        ä¼ è¾“çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚iPerf é€šå¸¸é€šè¿‡åœ¨ t æ—¶é—´å†…é‡å¤å‘é€ len é•¿åº¦çš„å­—èŠ‚æ•°ç»„æ¥å·¥ä½œã€‚é»˜è®¤å€¼ä¸º <span class="m">10</span> ç§’
-n, --num 	            è¦ä¼ è¾“çš„ç¼“å†²åŒºæ•°é‡ã€‚é€šå¸¸ï¼ŒiPerf åªä¼šå‘é€ <span class="m">10</span> ç§’ã€‚-n é€‰é¡¹è¦†ç›–æ­¤è®¾ç½®ï¼Œå¹¶å‘é€ len é•¿åº¦å­—èŠ‚æ•°ç»„ n æ¬¡ï¼Œæ— è®ºéœ€è¦å¤šé•¿æ—¶é—´
-k, --blockcount    	è¦ä¼ è¾“çš„å—ï¼ˆæ•°æ®åŒ…ï¼‰æ•°
-l, --length     	    è¯»å–æˆ–å†™å…¥çš„ç¼“å†²åŒºçš„é•¿åº¦ï¼ŒiPerf é€šè¿‡å¤šæ¬¡å†™å…¥ len ä¸ªå­—èŠ‚çš„æ•°ç»„æ¥å·¥ä½œã€‚TCP çš„é»˜è®¤å€¼ä¸º <span class="m">128</span> KBï¼ŒUDP çš„é»˜è®¤å€¼ä¸º <span class="m">8</span> KBã€‚ 
-P, --parallel  	    ä¸æœåŠ¡å™¨åŒæ—¶å»ºç«‹çš„è¿æ¥æ•°ï¼Œé»˜è®¤å€¼ä¸º <span class="m">1</span>
-R, --reverse	        ä»¥åå‘æ¨¡å¼è¿è¡Œï¼ˆæœåŠ¡å™¨å‘é€ï¼Œå®¢æˆ·ç«¯æ¥æ”¶ï¼‰
-w, --window    	    å°†å¥—æ¥å­—ç¼“å†²åŒºå¤§å°è®¾ç½®ä¸ºæŒ‡å®šå€¼ã€‚å¯¹äº TCPï¼Œè¿™å°†è®¾ç½® TCP çª—å£å¤§å°ï¼ˆè¿™å°†å‘é€åˆ°æœåŠ¡å™¨å¹¶åœ¨è¯¥ä¾§ä½¿ç”¨ï¼‰
-M, --set-mss  	        å°è¯•è®¾ç½® TCP æœ€å¤§æ®µå¤§å°ï¼ˆMSSï¼‰ã€‚MSS é€šå¸¸æ˜¯ MTU-TCP/IP æ ‡å¤´çš„ <span class="m">40</span> ä¸ªå­—èŠ‚ã€‚å¯¹äºä»¥å¤ªç½‘ï¼ŒMSS ä¸º <span class="m">1460</span> å­—èŠ‚ï¼ˆ1500 å­—èŠ‚ MTUï¼‰
-N, --no-delay	        è®¾ç½® â€œTCP no delayâ€ é€‰é¡¹ï¼Œç¦ç”¨ Nagle çš„ç®—æ³•ã€‚é€šå¸¸ï¼Œä»…å¯¹äº¤äº’å¼åº”ç”¨ç¨‹åºï¼ˆå¦‚ telnetï¼‰ç¦ç”¨æ­¤åŠŸèƒ½
-4, --version4	        ä»…ä½¿ç”¨ IPv4.
-6, --version4	        ä»…ä½¿ç”¨ IPv6.
-S, --tos               ä¼ å‡ºæ•°æ®åŒ…çš„æœåŠ¡ç±»å‹ã€‚<span class="o">(</span>è®¸å¤šè·¯ç”±å™¨ä¼šå¿½ç•¥TOSå­—æ®µã€‚ï¼‰å¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶å€¼ï¼ˆ0xï¼‰ä½œä¸ºå‰ç¼€ï¼Œä½¿ç”¨å…«è¿›åˆ¶æ•°ï¼ˆ0ï¼‰ä½œä¸ºå‰ç¼€ï¼Œæˆ–è€…ä½¿ç”¨åè¿›åˆ¶æ¥æŒ‡å®šå€¼ã€‚ ä¾‹å¦‚ï¼Œ<span class="s1">&#39;0x10&#39;</span><span class="nv">åå…­è¿›åˆ¶</span><span class="o">=</span><span class="s1">&#39;020&#39;</span><span class="nv">å…«è¿›åˆ¶</span><span class="o">=</span><span class="s1">&#39;16&#39;</span>åè¿›åˆ¶ã€‚RFC 1349ä¸­æŒ‡å®šçš„TOSç¼–å·ä¸ºï¼š
                        IPTOS_LOWDELAY     minimize delay        0x10
                        IPTOS_THROUGHPUT   maximize throughput   0x08
                        IPTOS_RELIABILITY  maximize reliability  0x04
                        IPTOS_LOWCOST      minimize cost         0x02
-L, --flowlabel  	    è®¾ç½® IPv6 æµæ ‡ç­¾ï¼ˆå½“å‰ä»…åœ¨ Linux ä¸Šå—æ”¯æŒï¼‰
-Z, --zerocopy	        ä½¿ç”¨ â€œé›¶æ‹·è´â€ æ–¹æ³•å‘é€æ•°æ®ï¼Œå¦‚ sendfileï¼ˆ2ï¼‰ï¼Œè€Œä¸æ˜¯é€šå¸¸çš„ writeï¼ˆ2ï¼‰ã€‚è¿™æ ·å¯ä»¥å ç”¨æ›´å°‘çš„ CPU
-O, --omit  	        çœç•¥æµ‹è¯•çš„å‰ n ç§’ï¼Œä»¥è·³è¿‡ TCP TCP æ…¢å¯åŠ¨å‘¨æœŸ
-T, --title             ä¸ºæ¯ä¸ªè¾“å‡ºè¡Œæ·»åŠ æ­¤å­—ç¬¦ä¸²å‰ç¼€
-C, --linux-congestion  è®¾ç½®æ‹¥å¡æ§åˆ¶ç®—æ³• <span class="o">(</span>ä»…é€‚ç”¨äº iPerf 3.1 çš„ Linux å’Œ FreeBSD<span class="o">)</span>ã€‚
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>æ³¨æ„ï¼š</strong> ä»å®¢æˆ·ç«¯ä¸“æœ‰é€‰é¡¹å¯ä»¥çœ‹å‡ºï¼ŒiPerf é»˜è®¤æµ‹è¯•çš„æ˜¯ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯ï¼Œç›¸å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œæµ‹è¯•å°±æ˜¯ä¸Šè¡Œé“¾è·¯çš„å¸¦å®½ï¼Œå¯¹äºä¸€èˆ¬å‚è€ƒæ„ä¹‰æ›´å¤§çš„ä¸‹è¡Œé“¾è·¯éœ€è¦åŠ ä¸Š <code>-R</code> é€‰é¡¹ã€‚</p>
</blockquote>
<p>å¸¸ç”¨å¯ç”¨å‚æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">æœåŠ¡ç«¯
$ iperf3 -s -p <span class="m">12345</span> -i <span class="m">1</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">å®¢æˆ·ç«¯
$ iperf3 -c 192.168.1.43 -p <span class="m">12345</span> -i <span class="m">1</span> -t <span class="m">20</span> -w 100k
</code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Network/iperf/iperf.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Network/iperf/iperf.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Network/iperf/iperf.webp" data-sub-html="<h2>iPerf ä½¿ç”¨å®ä¾‹</h2>">
        
    </a><figcaption class="image-caption">iPerf ä½¿ç”¨å®ä¾‹</figcaption>
    </figure>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://iperf.fr/iperf-doc.php" target="_blank" rel="noopener noreffer">iPerf user docs</a></p>
</li>
<li>
<p>[2] <a href="https://github.com/esnet/iperf" target="_blank" rel="noopener noreffer">iPerf Github</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>æ–‡ä»¶ä¼ è¾“ 3ï¼šSFTP</title>
    <link>https://www.techkoala.top/sftp/</link>
    <pubDate>Thu, 06 Aug 2020 14:07:53 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/sftp/</guid>
    <description><![CDATA[<blockquote>
<p>SCP çš„ç»§æ‰¿è€…</p>
</blockquote>
<h2 id="ä»€ä¹ˆæ˜¯-sftp">ä»€ä¹ˆæ˜¯ SFTP</h2>
<p>é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼ŒSFTPï¼ˆSSH File Transfer Protocolï¼‰ä¸æ˜¯è¿è¡Œåœ¨ SSH ä¸Šçš„ FTPï¼Œè€Œæ˜¯ç”± IETFï¼ˆInternet Engineering Task Forceï¼‰å·¥ä½œç»„è®¾è®¡çš„æ–°åè®®ï¼Œå°†å…¶ä½œä¸º SSH 2.0 ç‰ˆçš„æ‰©å±•ï¼Œæä¾›å®‰å…¨çš„æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ã€‚å› æ­¤ï¼Œæ²¡æœ‰å•ç‹¬çš„ SFTP ç«¯å£ï¼Œè€Œæ˜¯ä½¿ç”¨æ™®é€šçš„ SSH ç«¯å£ã€‚åè®®æœ¬èº«ä¸æä¾›èº«ä»½éªŒè¯å’Œå®‰å…¨æ€§ï¼Œè€Œæ˜¯æœŸæœ›åº•å±‚åè®®æä¾›ã€‚</p>
<p>ä¸ä»…å…è®¸æ–‡ä»¶ä¼ è¾“çš„ SCP åè®®ç›¸æ¯”ï¼ŒSFTP åè®®å…è®¸å¯¹è¿œç¨‹æ–‡ä»¶è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œè¿™ä½¿å…¶æ›´åƒè¿œç¨‹æ–‡ä»¶ç³»ç»Ÿåè®®ã€‚SFTP å®¢æˆ·ç«¯è¿˜æ”¯æŒåŒ…æ‹¬æ¢å¤ä¸­æ–­çš„ä¼ è¾“ï¼Œç›®å½•åˆ—è¡¨å’Œè¿œç¨‹æ–‡ä»¶åˆ é™¤ç­‰åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥ä¸å®ƒä»¬çš„åŸºæœ¬å±æ€§ç›¸å…³è”ï¼Œä¾‹å¦‚æ—¶é—´æˆ³ã€‚ç›¸æ¯”æ™®é€š FTP åè®®ï¼Œè¿™æ˜¯ä¸€é¡¹ä¼˜åŠ¿ã€‚</p>
<p>å°½ç®¡ SFTP æœ€å¸¸åœ¨ Unix å¹³å°ä¸Šå®ç°ï¼Œä½† SFTP åœ¨ä¸»æµå¹³å°éƒ½å¯ç”¨ã€‚</p>
<blockquote>
<p>æœ‰å…³ SFTP è¯¦ç»†è‰æ¡ˆå‚è§ <a href="https://assets.ctfassets.net/0lvk5dbamxpi/6jBxT5LDgMqutNK4mPTGKd/4fa27cb4a130bca3b48a10c9045b0497/draft-ietf-secsh-filexfer-02" target="_blank" rel="noopener noreffer">draft-ietf-secsh-filexfer-02</a></p>
</blockquote>
<h2 id="ä½¿ç”¨-sftp">ä½¿ç”¨ SFTP</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sftp é€‰é¡¹ å‚æ•°
</code></pre></td></tr></table>
</div>
</div><h3 id="é€‰é¡¹">é€‰é¡¹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">-Bï¼šæŒ‡å®šä¼ è¾“æ–‡ä»¶æ—¶ç¼“å†²åŒºçš„å¤§å°ï¼›
-lï¼šä½¿ç”¨ ssh åè®®ç‰ˆæœ¬ 1ï¼›
-bï¼šæŒ‡å®šæ‰¹å¤„ç†æ–‡ä»¶ï¼›
-Cï¼šä½¿ç”¨å‹ç¼©ï¼›
-oï¼šæŒ‡å®š ssh é€‰é¡¹ï¼›
-Fï¼šæŒ‡å®š ssh é…ç½®æ–‡ä»¶ï¼›
-Rï¼šæŒ‡å®šä¸€æ¬¡å¯ä»¥å®¹å¿å¤šå°‘è¯·æ±‚æ•°ï¼›
-vï¼šå‡é«˜æ—¥å¿—ç­‰çº§ã€‚
</code></pre></td></tr></table>
</div>
</div><h3 id="å‚æ•°">å‚æ•°</h3>
<p>ç›®æ ‡ä¸»æœºï¼šæŒ‡å®š SFTP æœåŠ¡å™¨ IP åœ°å€æˆ–è€…ä¸»æœºåã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol" target="_blank" rel="noopener noreffer">SSH File Transfer Protocol</a></p>
</li>
<li>
<p>[2] <a href="https://jaywcjlove.gitee.io/linux-command/c/sftp.html" target="_blank" rel="noopener noreffer">SFTP Command</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>æ–‡ä»¶ä¼ è¾“ 2ï¼šrsync</title>
    <link>https://www.techkoala.top/rsync/</link>
    <pubDate>Wed, 05 Aug 2020 20:58:00 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/rsync/</guid>
    <description><![CDATA[<blockquote>
<p>SCP çš„å¦ä¸€ä¸ªç»ä½³æ›¿é€‰</p>
</blockquote>
<h2 id="ä»€ä¹ˆæ˜¯-rsync">ä»€ä¹ˆæ˜¯ rsync</h2>
<p>rsync (remote synchronize) æ˜¯ä¸€æ¬¾å®ç°è¿œç¨‹åŒæ­¥åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒåœ¨åŒæ­¥æ–‡ä»¶çš„åŒæ—¶ï¼Œå¯ä»¥ä¿æŒåŸæ¥æ–‡ä»¶çš„æƒé™ã€æ—¶é—´ã€è½¯ç¡¬é“¾æ¥ç­‰é™„åŠ ä¿¡æ¯ã€‚</p>
<p>rsync æ˜¯<code>ç±» Unix</code> ç³»ç»Ÿä¸‹çš„æ•°æ®é•œåƒå¤‡ä»½å·¥å…·ã€‚å®ƒèƒ½åŒæ­¥æ›´æ–°ä¸¤å¤„è®¡ç®—æœºçš„æ–‡ä»¶ä¸ç›®å½•ï¼Œå¹¶é€‚å½“åˆ©ç”¨å·®åˆ†ç¼–ç ä»¥å‡å°‘æ•°æ®ä¼ è¾“é‡ã€‚ rsync ä¸­çš„ä¸€é¡¹åŒç±»è½¯ä»¶ä¸å¸¸è§çš„é‡è¦ç‰¹æ€§æ˜¯æ¯ä¸ªç›®æ ‡çš„é•œåƒåªéœ€å‘é€ä¸€æ¬¡ã€‚rsync å¯ä»¥æ‹·è´ï¼æ˜¾ç¤ºç›®å½•å†…å®¹ï¼Œä»¥åŠæ‹·è´æ–‡ä»¶ï¼Œå¹¶å¯é€‰å‹ç¼©ä»¥åŠé€’å½’æ‹·è´ã€‚</p>
<p>rsync é»˜è®¤ç›‘å¬ <code>TCP</code> ç«¯å£ 873ï¼Œä»¥åŸç”Ÿ rsync ä¼ è¾“åè®®æˆ–è€…é€è¿‡<code>è¿œç¨‹ shell</code> å¦‚ <code>RSH</code> æˆ–è€… <code>SSH</code> æä¾›æ–‡ä»¶ã€‚<code>SSH</code> æ¨¡å¼ä¸‹ï¼Œrsync å®¢æˆ·ç«¯è¿è¡Œç¨‹åºå¿…é¡»åŒæ—¶åœ¨æœ¬åœ°å’Œè¿œç¨‹æœºå™¨ä¸Šå®‰è£…ã€‚</p>
<h2 id="rsync-ç®—æ³•">rsync ç®—æ³•</h2>
<blockquote>
<p>æ­¤éƒ¨åˆ†å†…å®¹è½¬è½½ <a href="https://coolshell.cn/articles/7425.html" target="_blank" rel="noopener noreffer">RSYNC çš„æ ¸å¿ƒç®—æ³•</a></p>
</blockquote>
<p>rsync çš„ç®—æ³•å¦‚ä¸‹ï¼šï¼ˆå‡è®¾æºæ–‡ä»¶åä¸º <code>fileSrc</code>ï¼Œç›®çš„æ–‡ä»¶å« <code>fileDst</code>ï¼‰</p>
<h3 id="åˆ†å—-checksum-ç®—æ³•">åˆ†å— Checksum ç®—æ³•</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šæŠŠ <code>fileDst</code> çš„æ–‡ä»¶å¹³å‡åˆ‡åˆ†æˆè‹¥å¹²ä¸ªå°å—ï¼Œæ¯”å¦‚æ¯å— 512 ä¸ªå­—èŠ‚ï¼Œç„¶åå¯¹<strong>æ¯å—</strong>è®¡ç®—<strong>ä¸¤ä¸ª</strong> <code>checksum</code>ï¼Œä¸€ä¸ªå« <code>rolling checksum</code>ï¼Œæ˜¯<code>å¼± checksum</code>ï¼Œ32 ä½çš„ <code>checksum</code>ï¼Œå…¶ä½¿ç”¨çš„æ˜¯ Mark Adler å‘æ˜çš„ <code>adler-32</code> ç®—æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯<code>å¼º checksum</code>ï¼Œ128 ä½çš„ï¼Œä»¥å‰ç”¨ <code>md4</code>ï¼Œç°åœ¨ç”¨ <code>md5</code>ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·ï¼Ÿå› ä¸ºè‹¥å¹²å¹´å‰çš„ç¡¬ä»¶ä¸Šè·‘ <code>md4</code> çš„ç®—æ³•å¤ªæ…¢äº†ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä¸€ä¸ªå¿«ç®—æ³•æ¥é‰´åˆ«æ–‡ä»¶å—çš„ä¸åŒï¼Œä½†æ˜¯å¼±çš„ <code>adler-32</code> ç®—æ³•ç¢°æ’æ¦‚ç‡å¤ªé«˜äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦å¼•å…¥å¼ºçš„ <code>checksum</code> ç®—æ³•ä»¥ä¿è¯ä¸¤æ–‡ä»¶å—æ˜¯ç›¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼±çš„ <code>checksum</code> æ˜¯ç”¨æ¥åŒºåˆ«ä¸åŒï¼Œè€Œå¼ºçš„æ˜¯ç”¨æ¥ç¡®è®¤ç›¸åŒã€‚</p>
<h3 id="ä¼ è¾“ç®—æ³•">ä¼ è¾“ç®—æ³•</h3>
<p>åŒæ­¥ç›®æ ‡ç«¯ä¼šæŠŠ <code>fileDst</code> çš„ä¸€ä¸ª <code>checksum</code> åˆ—è¡¨ä¼ ç»™åŒæ­¥æºï¼Œè¿™ä¸ªåˆ—è¡¨é‡ŒåŒ…æ‹¬äº†ä¸‰ä¸ªä¸œè¥¿ï¼Œ<code>rolling checksum</code> (32bits)ï¼Œ<code>md5 checksume</code> (128bits)ï¼Œ<code>æ–‡ä»¶å—ç¼–å·</code>ã€‚åŒæ­¥æºæœºå™¨æ‹¿åˆ°äº†è¿™ä¸ªåˆ—è¡¨åï¼Œä¼šå¯¹ <code>fileSrc</code> åšåŒæ ·çš„ <code>checksum</code>ï¼Œç„¶åå’Œ <code>fileDst</code> çš„ <code>checksum</code> åšå¯¹æ¯”ï¼Œè¿™æ ·å°±çŸ¥é“å“ªäº›æ–‡ä»¶å—æ”¹å˜äº†ã€‚</p>
<p><strong>ä½†æ˜¯</strong></p>
<p>å¦‚æœæˆ‘ <code>fileSrc</code> è¿™è¾¹åœ¨æ–‡ä»¶ä¸­é—´åŠ äº†ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™æ ·åé¢çš„æ–‡ä»¶å—éƒ½ä¼šä½ç§»ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™æ ·å°±å®Œå…¨å’Œ <code>fileDst</code> è¿™è¾¹çš„ä¸ä¸€æ ·äº†ï¼Œä½†ç†è®ºä¸Šæ¥è¯´ï¼Œæˆ‘åº”è¯¥åªéœ€è¦ä¼ ä¸€ä¸ªå­—ç¬¦å°±å¥½äº†ã€‚è¿™ä¸ªæ€ä¹ˆè§£å†³ï¼Ÿ
å¦‚æœè¿™ä¸ª <code>checksum</code> åˆ—è¡¨ç‰¹åˆ«é•¿ï¼Œè€Œä¸¤è¾¹ç›¸åŒçš„æ–‡ä»¶å—å¯èƒ½å¹¶ä¸æ˜¯ä¸€æ ·çš„é¡ºåºï¼Œé‚£å°±éœ€è¦æŸ¥æ‰¾ï¼Œçº¿æ€§çš„æŸ¥æ‰¾èµ·æ¥åº”è¯¥ç‰¹åˆ«æ…¢å§ã€‚è¿™ä¸ªæ€ä¹ˆè§£å†³ï¼Ÿ</p>
<h3 id="checksum-æŸ¥æ‰¾ç®—æ³•">Checksum æŸ¥æ‰¾ç®—æ³•</h3>
<p>åŒæ­¥æºç«¯æ‹¿åˆ° <code>fileDst</code> çš„ <code>checksum</code> æ•°ç»„åï¼Œä¼šæŠŠè¿™ä¸ªæ•°æ®å­˜åˆ°ä¸€ä¸ª <code>hash table</code> ä¸­ï¼Œç”¨ <code>rolling checksum</code> åš <code>hash</code>ï¼Œä»¥ä¾¿è·å¾— <code>O(1)</code> æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾æ€§èƒ½ã€‚è¿™ä¸ª <code>hash table</code> æ˜¯ 16 bits çš„ï¼Œæ‰€ä»¥ï¼Œ<code>hash table</code> çš„å°ºå¯¸æ˜¯ 2 çš„ 16 æ¬¡æ–¹ï¼Œå¯¹ <code>rolling checksum</code> çš„ <code>hash</code> ä¼šè¢«æ•£åˆ—åˆ° 0 åˆ° $ 2^{16} â€“ 1 $ ä¸­çš„æŸä¸ªæ•´æ•°å€¼ã€‚</p>
<h3 id="æ¯”å¯¹ç®—æ³•">æ¯”å¯¹ç®—æ³•</h3>
<ol>
<li>
<p>å– <code>fileSrc</code> çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶å—ï¼ˆæˆ‘ä»¬å‡è®¾çš„æ˜¯ 512 ä¸ªé•¿åº¦ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä» <code>fileSrc</code> çš„ç¬¬ 1 ä¸ªå­—èŠ‚åˆ°ç¬¬ 512 ä¸ªå­—èŠ‚ï¼Œå–å‡ºæ¥ååš <code>rolling checksum</code> è®¡ç®—ã€‚è®¡ç®—å¥½çš„å€¼åˆ° <code>hash</code> è¡¨ä¸­æŸ¥è¯¢ã€‚</p>
</li>
<li>
<p>å¦‚æœæŸ¥åˆ°äº†ï¼Œè¯´æ˜å‘ç°åœ¨ <code>fileDst</code> ä¸­æœ‰æ½œåœ¨ç›¸åŒçš„æ–‡ä»¶å—ï¼Œäºæ˜¯å°±å†æ¯”è¾ƒ Â· çš„ <code>checksum</code>ï¼Œå› ä¸º <code>rolling checksume</code> å¤ªå¼±äº†ï¼Œå¯èƒ½å‘ç”Ÿç¢°æ’ã€‚äºæ˜¯è¿˜è¦ç®— <code>md5</code> çš„ 128 bits çš„ <code>checksum</code>ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±æœ‰ $2^{-(32+128)} = 2^{-160} $ çš„æ¦‚ç‡å‘ç”Ÿç¢°æ’ï¼Œè¿™å°åˆ°å¯ä»¥å¿½ç•¥ã€‚å¦‚æœ <code>rolling checksum</code> å’Œ <code>md5 checksum</code> éƒ½ç›¸åŒï¼Œé‚£å°±å¯ä»¥è¯´æ˜åœ¨ <code>fileDst</code> ä¸­æœ‰ç›¸åŒçš„å—ï¼Œè®°ä¸‹è¿™ä¸€å—åœ¨ <code>fileDst</code> ä¸‹çš„æ–‡ä»¶ç¼–å·ã€‚</p>
</li>
<li>
<p>å¦‚æœ <code>fileSrc</code> çš„ <code>rolling checksum</code> æ²¡æœ‰åœ¨ <code>hash table</code> ä¸­æ‰¾åˆ°ï¼Œé‚£å°±ä¸ç”¨ç®— <code>md5 checksum</code> äº†ã€‚è¡¨ç¤ºè¿™ä¸€å—ä¸­æœ‰ä¸åŒçš„ä¿¡æ¯ã€‚æ€»ä¹‹ï¼Œåªè¦ <code>rolling checksum</code> æˆ– <code>md5 checksum</code> å…¶ä¸­æœ‰ä¸€ä¸ªåœ¨ <code>fileDst</code> çš„ <code>checksum hash</code> è¡¨ä¸­æ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ç®—æ³•å¯¹ <code>fileSrc</code> çš„ rolling åŠ¨ä½œã€‚äºæ˜¯ï¼Œç®—æ³•ä¼šä½å step 1 ä¸ªå­—èŠ‚ï¼Œå– <code>fileSrc</code> ä¸­å­—èŠ‚ 2-513 çš„æ–‡ä»¶å—è¦åš <code>checksum</code>ï¼Œç„¶åç»§ç»­ç¬¬ä¸€æ­¥ â€“ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå« <code>rolling checksum</code> ã€‚</p>
</li>
<li>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾å‡º <code>fileSrc</code> ç›¸é‚»ä¸¤æ¬¡åŒ¹é…ä¸­çš„é‚£äº›æ–‡æœ¬å­—ç¬¦ï¼Œè¿™äº›å°±æ˜¯æˆ‘ä»¬è¦å¾€åŒæ­¥ç›®æ ‡ç«¯ä¼ çš„æ–‡ä»¶å†…å®¹äº†ã€‚</p>
</li>
</ol>
<h2 id="rolling-checksum-ç®—æ³•">Rolling Checksum ç®—æ³•</h2>
<p>rolling checksum ç®—æ³•ä¹Ÿå« <code>Rabin-Karp</code> ç®—æ³•ï¼Œç”± Richard M. Karp å’Œ Michael O. Rabin åœ¨ 1987 å¹´å‘è¡¨ï¼Œå®ƒç”¨æ¥è§£å†³å¤šæ¨¡å¼ä¸²åŒ¹é…é—®é¢˜ã€‚å…¶æœ€å¤§çš„ç²¾é«“æ˜¯ï¼Œå½“å¾€åé¢ step 1 ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œä¸ç”¨å…¨éƒ¨é‡æ–°è®¡ç®—æ‰€æœ‰çš„ <code>checksum</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä» [0, 512] rolling åˆ° [1, 513] æ—¶ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—ä» 1 åˆ° 513 çš„ <code>checksum</code>ï¼Œè€Œæ˜¯é‡ç”¨ [0ï¼Œ512] çš„ <code>checksum</code> ç›´æ¥ç®—å‡ºæ¥ã€‚</p>
<p>å…¶å…¬å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">hash ( t[0, m-1] ) = t[0] * b^(m-1) + t[1] * b^[m-2] ..... t[m-1] * b^0
</code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­çš„ b æ˜¯ä¸€ä¸ªå¸¸æ•°åŸºæ•°ï¼Œåœ¨ Rabin-Karp ç®—æ³•ä¸­ï¼Œä¸€èˆ¬å–å€¼ä¸º 256ã€‚</p>
<p>äºæ˜¯ï¼Œåœ¨è®¡ç®— hash ( t[1, m] ) æ—¶ï¼Œåªéœ€è¦ä¸‹é¢è¿™æ ·å°±å¯ä»¥äº†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">hash( t[1, m] ) = hash ( t[0, m-1] ) - t[0] * b^(m-1)  + t[m] * b ^0
</code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/Rsync/rsync-algorithm.jpg" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/Rsync/rsync-algorithm.jpg" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/Rsync/rsync-algorithm.jpg" data-sub-html="<h2>rsync ç®—æ³•ç¤ºæ„</h2>">
        
    </a><figcaption class="image-caption">rsync ç®—æ³•ç¤ºæ„</figcaption>
    </figure>
<p>æœ€ç»ˆï¼Œå¾—åˆ°çš„æ•°æ®ç»„å¯ä»¥æƒ³è±¡ä¸º BT åè®®ä¸‹è½½ torrent ï¼šä¸€äº›æ–‡ä»¶å—å·²ä¸‹è½½ï¼ˆåŒ¹é…ä¸Šï¼‰ï¼Œå…¶ä»–çš„æ–‡ä»¶å—è¿˜æœªä¸‹è½½ï¼ˆæœªåŒ¹é…ä¸Šï¼‰ã€‚ç„¶åï¼ŒåŒæ­¥ç«¯å°†è¿™äº›æœªåŒ¹é…ä¸Šçš„æ–‡ä»¶æ‰“ä¸Šæ ‡å·å‘é€ï¼Œç›®çš„ç«¯æ ¹æ®æ ‡å·é‡ç»„æ–‡ä»¶å°±å®Œæˆäº†åŒæ­¥ã€‚</p>
<h2 id="ä½¿ç”¨-rsync">ä½¿ç”¨ rsync</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC DEST
rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>USER@<span class="o">]</span> host:DEST
rsync <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span> HOST:SRC DEST
rsync <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span> HOST::SRC DEST
rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>USER@<span class="o">]</span> HOST::DEST
rsync <span class="o">[</span>OPTION<span class="o">]</span>... rsync://<span class="o">[</span>USER@<span class="o">]</span> HOST <span class="o">[</span>:PORT<span class="o">]</span>/SRC <span class="o">[</span>DEST<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><p>å¯¹åº”äºä»¥ä¸Šå…­ç§å‘½ä»¤æ ¼å¼ï¼Œ<code>rsync</code> æœ‰å…­ç§ä¸åŒçš„å·¥ä½œæ¨¡å¼ï¼š</p>
<ul>
<li>
<p>æ‹·è´æœ¬åœ°æ–‡ä»¶ã€‚å½“ <code>SRC</code> å’Œ <code>DES</code> è·¯å¾„ä¿¡æ¯éƒ½<strong>ä¸åŒ…å«</strong>æœ‰å•ä¸ªå†’å· &ldquo;:&rdquo; åˆ†éš”ç¬¦æ—¶å°±å¯åŠ¨è¿™ç§å·¥ä½œæ¨¡å¼ã€‚å¦‚ï¼š<code>rsync -a /data/backup</code></p>
</li>
<li>
<p>ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹ <code>shell</code> ç¨‹åº (å¦‚ rshã€ssh) æ¥å®ç°å°†æœ¬åœ°æœºå™¨çš„å†…å®¹æ‹·è´åˆ°è¿œç¨‹æœºå™¨ã€‚å½“ <code>DST</code> è·¯å¾„åœ°å€<strong>åŒ…å«å•ä¸ª</strong>å†’å· &ldquo;:&rdquo; åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼š<code>rsync -avz *.c foo:src</code></p>
</li>
<li>
<p>ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹ <code>shell</code> ç¨‹åº (å¦‚ <code>rsh</code>ã€<code>ssh</code>) æ¥å®ç°å°†è¿œç¨‹æœºå™¨çš„å†…å®¹æ‹·è´åˆ°æœ¬åœ°æœºå™¨ã€‚å½“ <code>SRC</code> åœ°å€è·¯å¾„<strong>åŒ…å«å•ä¸ª</strong>å†’å· &ldquo;:&rdquo; åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼š<code>rsync -avz foo:src/bar/data</code></p>
</li>
<li>
<p>ä»è¿œç¨‹ <code>rsync</code> æœåŠ¡å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°æœ¬åœ°æœºã€‚å½“ <code>SRC</code> è·¯å¾„ä¿¡æ¯åŒ…å« &ldquo;::&rdquo; åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼š<code>rsync -av root@192.168.78.192::www /databack</code></p>
</li>
<li>
<p>ä»æœ¬åœ°æœºå™¨æ‹·è´æ–‡ä»¶åˆ°è¿œç¨‹ <code>rsync</code> æœåŠ¡å™¨ä¸­ã€‚å½“ <code>DST</code> è·¯å¾„ä¿¡æ¯åŒ…å« &ldquo;::&rdquo; åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼š<code>rsync -av /databack root@192.168.78.192::www</code></p>
</li>
<li>
<p>åˆ—å‡ºè¿œç¨‹ä¸»æœºçš„æ–‡ä»¶åˆ—è¡¨ã€‚è¿™ç±»ä¼¼äº <code>rsync</code> ä¼ è¾“ï¼Œä¸è¿‡åªè¦åœ¨å‘½ä»¤ä¸­çœç•¥æ‰æœ¬åœ°æœºä¿¡æ¯å³å¯ã€‚å¦‚ï¼š<code>rsync -v rsync://192.168.78.192/www</code></p>
</li>
</ul>
<p>å¯ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-v, --verbose è¯¦ç»†æ¨¡å¼è¾“å‡ºã€‚
-q, --quiet ç²¾ç®€è¾“å‡ºæ¨¡å¼ã€‚
-C, --cvs-exclude ä½¿ç”¨å’Œ CVS ä¸€æ ·çš„æ–¹æ³•è‡ªåŠ¨å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ¥æ’é™¤é‚£äº›ä¸å¸Œæœ›ä¼ è¾“çš„æ–‡ä»¶ã€‚
-c, --checksum æ‰“å¼€æ ¡éªŒå¼€å…³ï¼Œå¼ºåˆ¶å¯¹æ–‡ä»¶ä¼ è¾“è¿›è¡Œæ ¡éªŒã€‚
-a, --archive å½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ï¼Œç­‰äº - rlptgoDã€‚
-r, --recursive å¯¹å­ç›®å½•ä»¥é€’å½’æ¨¡å¼å¤„ç†ã€‚
-R, --relative ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¿¡æ¯ã€‚
-b, --backup åˆ›å»ºå¤‡ä»½ï¼Œä¹Ÿå°±æ˜¯å¯¹äºç›®çš„å·²ç»å­˜åœ¨æœ‰åŒæ ·çš„æ–‡ä»¶åæ—¶ï¼Œå°†è€çš„æ–‡ä»¶é‡æ–°å‘½åä¸ºï½filenameã€‚å¯ä»¥ä½¿ç”¨ --suffix é€‰é¡¹æ¥æŒ‡å®šä¸åŒçš„å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚
-u, --update ä»…ä»…è¿›è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è·³è¿‡æ‰€æœ‰å·²ç»å­˜åœ¨äº DSTï¼Œå¹¶ä¸”æ–‡ä»¶æ—¶é—´æ™šäºè¦å¤‡ä»½çš„æ–‡ä»¶ï¼Œä¸è¦†ç›–æ›´æ–°çš„æ–‡ä»¶ã€‚
-l, --links ä¿ç•™è½¯é“¾ç»“ã€‚
-L, --copy-links æƒ³å¯¹å¾…å¸¸è§„æ–‡ä»¶ä¸€æ ·å¤„ç†è½¯é“¾ç»“ã€‚
-H, --hard-links ä¿ç•™ç¡¬é“¾ç»“ã€‚
-I, --ignore-times ä¸è·³è¿‡é‚£äº›æœ‰åŒæ ·çš„æ—¶é—´å’Œé•¿åº¦çš„æ–‡ä»¶ã€‚
-p, --perms ä¿æŒæ–‡ä»¶æƒé™ã€‚
-o, --owner ä¿æŒæ–‡ä»¶å±ä¸»ä¿¡æ¯ã€‚
-g, --group ä¿æŒæ–‡ä»¶å±ç»„ä¿¡æ¯ã€‚
-D, --devices ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯ã€‚
-t, --times ä¿æŒæ–‡ä»¶æ—¶é—´ä¿¡æ¯ã€‚
-S, --sparse å¯¹ç¨€ç–æ–‡ä»¶è¿›è¡Œç‰¹æ®Šå¤„ç†ä»¥èŠ‚çœ DST çš„ç©ºé—´ã€‚
-T --temp-dir<span class="o">=</span>DIR åœ¨ DIR ä¸­åˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚
-n, --dry-run ç°å®å“ªäº›æ–‡ä»¶å°†è¢«ä¼ è¾“ã€‚
-w, --whole-file æ‹·è´æ–‡ä»¶ï¼Œä¸è¿›è¡Œå¢é‡æ£€æµ‹ã€‚
-x, --one-file-system ä¸è¦è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œã€‚
-B, --block-size<span class="o">=</span>SIZE æ£€éªŒç®—æ³•ä½¿ç”¨çš„å—å°ºå¯¸ï¼Œé»˜è®¤æ˜¯ <span class="m">700</span> å­—èŠ‚ã€‚
-e, --rsh<span class="o">=</span><span class="nb">command</span> æŒ‡å®šä½¿ç”¨ rshã€ssh æ–¹å¼è¿›è¡Œæ•°æ®åŒæ­¥ã€‚
-P ç­‰åŒäº --partialã€‚
-z, --compress å¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†ã€‚
-h, --help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚
--backup-dir å°†å¤‡ä»½æ–‡ä»¶ <span class="o">(</span>å¦‚ï½filename<span class="o">)</span> å­˜æ”¾åœ¨åœ¨ç›®å½•ä¸‹ã€‚
-suffix<span class="o">=</span>SUFFIX å®šä¹‰å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚
--copy-unsafe-links ä»…ä»…æ‹·è´æŒ‡å‘ SRC è·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“ã€‚
--safe-links å¿½ç•¥æŒ‡å‘ SRC è·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“ã€‚
--rsync-path<span class="o">=</span>PATH æŒ‡å®šè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ rsync å‘½ä»¤æ‰€åœ¨è·¯å¾„ä¿¡æ¯ã€‚
--existing ä»…ä»…æ›´æ–°é‚£äº›å·²ç»å­˜åœ¨äº DST çš„æ–‡ä»¶ï¼Œè€Œä¸å¤‡ä»½é‚£äº›æ–°åˆ›å»ºçš„æ–‡ä»¶ã€‚
--delete åˆ é™¤é‚£äº› DST ä¸­ SRC æ²¡æœ‰çš„æ–‡ä»¶ã€‚
--delete-excluded åŒæ ·åˆ é™¤æ¥æ”¶ç«¯é‚£äº›è¢«è¯¥é€‰é¡¹æŒ‡å®šæ’é™¤çš„æ–‡ä»¶ã€‚
--delete-after ä¼ è¾“ç»“æŸä»¥åå†åˆ é™¤ã€‚
--ignore-errors åŠæ—¶å‡ºç° IO é”™è¯¯ä¹Ÿè¿›è¡Œåˆ é™¤ã€‚
--max-delete<span class="o">=</span>NUM æœ€å¤šåˆ é™¤ NUM ä¸ªæ–‡ä»¶ã€‚
--partial ä¿ç•™é‚£äº›å› æ•…æ²¡æœ‰å®Œå…¨ä¼ è¾“çš„æ–‡ä»¶ï¼Œä»¥æ˜¯åŠ å¿«éšåçš„å†æ¬¡ä¼ è¾“ã€‚
--force å¼ºåˆ¶åˆ é™¤ç›®å½•ï¼Œå³ä½¿ä¸ä¸ºç©ºã€‚
--numeric-ids ä¸å°†æ•°å­—çš„ç”¨æˆ·å’Œç»„ id åŒ¹é…ä¸ºç”¨æˆ·åå’Œç»„åã€‚
--timeout<span class="o">=</span><span class="nb">time</span> ip è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚
--size-only å½“å†³å®šæ˜¯å¦è¦å¤‡ä»½æ–‡ä»¶æ—¶ï¼Œä»…ä»…å¯Ÿçœ‹æ–‡ä»¶å¤§å°è€Œä¸è€ƒè™‘æ–‡ä»¶æ—¶é—´ã€‚
--modify-window<span class="o">=</span>NUM å†³å®šæ–‡ä»¶æ˜¯å¦æ—¶é—´ç›¸åŒæ—¶ä½¿ç”¨çš„æ—¶é—´æˆ³çª—å£ï¼Œé»˜è®¤ä¸º 0ã€‚
--compare-dest<span class="o">=</span>DIR åŒæ ·æ¯”è¾ƒ DIR ä¸­çš„æ–‡ä»¶æ¥å†³å®šæ˜¯å¦éœ€è¦å¤‡ä»½ã€‚
--progress æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹ã€‚
--exclude<span class="o">=</span>PATTERN æŒ‡å®šæ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼ã€‚
--include<span class="o">=</span>PATTERN æŒ‡å®šä¸æ’é™¤è€Œéœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼ã€‚
--exclude-from<span class="o">=</span>FILE æ’é™¤ FILE ä¸­æŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ã€‚
--include-from<span class="o">=</span>FILE ä¸æ’é™¤ FILE æŒ‡å®šæ¨¡å¼åŒ¹é…çš„æ–‡ä»¶ã€‚
--version æ‰“å°ç‰ˆæœ¬ä¿¡æ¯ã€‚
--address ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€ã€‚
--config<span class="o">=</span>FILE æŒ‡å®šå…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä½¿ç”¨é»˜è®¤çš„ rsyncd.conf æ–‡ä»¶ã€‚
--port<span class="o">=</span>PORT æŒ‡å®šå…¶ä»–çš„ rsync æœåŠ¡ç«¯å£ã€‚
--blocking-io å¯¹è¿œç¨‹ shell ä½¿ç”¨é˜»å¡ IOã€‚
-stats ç»™å‡ºæŸäº›æ–‡ä»¶çš„ä¼ è¾“çŠ¶æ€ã€‚
--progress åœ¨ä¼ è¾“æ—¶ç°å®ä¼ è¾“è¿‡ç¨‹ã€‚
--log-format<span class="o">=</span>formAT æŒ‡å®šæ—¥å¿—æ–‡ä»¶æ ¼å¼ã€‚
--password-file<span class="o">=</span>FILE ä» FILE ä¸­å¾—åˆ°å¯†ç ã€‚
--bwlimit<span class="o">=</span>KBPS é™åˆ¶ I/O å¸¦å®½ï¼ŒKBytes per secondã€‚
</code></pre></td></tr></table>
</div>
</div><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://rsync.samba.org/tech_report/tech_report.html" target="_blank" rel="noopener noreffer">The rsync algorithm</a></p>
</li>
<li>
<p>[2] <a href="https://coolshell.cn/articles/7425.html" target="_blank" rel="noopener noreffer">RSYNC çš„æ ¸å¿ƒç®—æ³•</a></p>
</li>
<li>
<p>[3] <a href="https://zh.wikipedia.org/wiki/Rsync" target="_blank" rel="noopener noreffer">rsync wikipedia</a></p>
</li>
<li>
<p>[4] <a href="https://ningyu1.github.io/linux-command/c/rsync.html" target="_blank" rel="noopener noreffer">rsync command</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>Git Log ä½¿ç”¨æŠ€å·§</title>
    <link>https://www.techkoala.top/git_log/</link>
    <pubDate>Sat, 01 Aug 2020 22:30:52 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/git_log/</guid>
    <description><![CDATA[<blockquote>
<p>æœ€å¸¸ç”¨çš„ Git Log æŠ€å·§ä»¤æ€»ç»“</p>
</blockquote>
<h2 id="æ¦‚è§ˆæäº¤å†å²">æ¦‚è§ˆæäº¤å†å²</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log â€”oneline
</code></pre></td></tr></table>
</div>
</div><p>è¯¥å‘½ä»¤å¸®åŠ©æ‚¨ä»¥æ›´æ¸…æ™°çš„æ–¹å¼æŸ¥çœ‹æäº¤ã€‚æ¯ä¸ªæäº¤ä»…æ˜¾ç¤ºä¸ºä¸€è¡Œï¼Œå¹¶ä¸”åªæœ‰æœ€å°‘é‡çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æäº¤å“ˆå¸Œã€æäº¤æ¶ˆæ¯ã€‚</p>
<h2 id="æ˜¾ç¤ºè¯¦ç»†æ›´æ”¹ä¿¡æ¯">æ˜¾ç¤ºè¯¦ç»†æ›´æ”¹ä¿¡æ¯</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log -p
</code></pre></td></tr></table>
</div>
</div><p>æ­¤å‘½ä»¤ä¼šæ˜¾ç¤ºæ›´æ–°çš„è¯¦ç»†æ›´æ”¹ä¿¡æ¯ï¼Œæ–¹ä¾¿æŸ¥é˜…ã€‚</p>
<h2 id="æ ¹æ®æ—¶é—´ç­›é€‰">æ ¹æ®æ—¶é—´ç­›é€‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --after<span class="o">=</span><span class="s2">&#34;2020-15-05&#34;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --after<span class="o">=</span><span class="s2">&#34;2020-15-05&#34;</span> --before<span class="o">=</span><span class="s2">&#34;2020-25-05&#34;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --after<span class="o">=</span><span class="s2">&#34;yesterday&#34;</span> // æ˜¾ç¤ºæ˜¨å¤©çš„æäº¤

$ git log --after<span class="o">=</span><span class="s2">&#34;today&#34;</span> // æ˜¾ç¤ºä»Šå¤©çš„æäº¤

$ git log --before<span class="o">=</span><span class="s2">&#34;10 day ago&#34;</span> // æ˜¾ç¤ºæœ€è¿‘åå¤©çš„æäº¤

$ git log --after<span class="o">=</span><span class="s2">&#34;1 week ago&#34;</span> // æ˜¾ç¤ºä¸Šå‘¨ä»¥æ¥çš„æäº¤

$ git log --after<span class="o">=</span><span class="s2">&#34;2 month ago&#34;</span> // æ˜¾ç¤ºè¿‘ä¸¤ä¸ªæœˆçš„æäº¤
</code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°å‘½ä»¤å°†æŒ‰ç»™å®šçš„æ—¶é—´æ®µè¿‡æ»¤å‡ºæäº¤ã€‚ ä¾‹å¦‚ï¼Œ<code>--after</code> å°†ä»…ç­›é€‰ç»™å®šæ—¶é—´æ®µä¹‹åçš„æäº¤ï¼Œè€Œ <code>--before</code> å°†ä»…ç­›é€‰ç»™å®šæ—¶é—´æ®µä¹‹å‰çš„æäº¤ã€‚</p>
<h2 id="æ ¹æ®ä½œè€…ç­›é€‰">æ ¹æ®ä½œè€…ç­›é€‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --author<span class="o">=</span><span class="s2">&#34;techkoala&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºç”± techkoala æäº¤çš„æ›´æ”¹ã€‚å½“ç„¶ï¼Œå¯ä»¥ç»“åˆä¸Šé¢ä»‹ç»çš„å‘½ä»¤ï¼Œè¿›è¡Œæ›´åŠ ç²¾ç¡®çš„ç­›é€‰ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --after<span class="o">=</span><span class="s2">&#34;1 week ago&#34;</span> --author<span class="o">=</span><span class="s2">&#34;techkoala&#34;</span> -p
</code></pre></td></tr></table>
</div>
</div><h2 id="æ ¹æ®-log-ä¿¡æ¯ç­›é€‰">æ ¹æ® log ä¿¡æ¯ç­›é€‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --grep<span class="o">=</span><span class="s2">&#34;ISSUE-43560&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°ç­›é€‰å­—æ®µåŒºåˆ†å¤§å°å†™ï¼Œå¦‚æœéœ€è¦ä¸åŒºåˆ†ï¼Œè¯·åŠ ä¸Š <code>-i</code> é€‰é¡¹ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log -i --grep<span class="o">=</span><span class="s2">&#34;issue-43560\|issue-89786&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="æ ¹æ®æ–‡ä»¶ç­›é€‰">æ ¹æ®æ–‡ä»¶ç­›é€‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log Git_Log.md
</code></pre></td></tr></table>
</div>
</div><p>è¯¥å‘½ä»¤æ˜¾ç¤ºé’ˆå¯¹ç‰¹å®šæ–‡ä»¶çš„çš„æäº¤å†å²ã€‚</p>
<p>å½“ç„¶ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªæ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log Git_Log.md Github_Issue.md
</code></pre></td></tr></table>
</div>
</div><p>åŒæ ·çš„ï¼Œç»“åˆåˆ«çš„å‘½ä»¤å¯ä»¥åšå‡ºæ›´ç²¾ç¡®çš„ç­›é€‰ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log -i --grep<span class="o">=</span><span class="s2">&#34;fix &#34;</span> Git_Log.md Github_Issue.md
</code></pre></td></tr></table>
</div>
</div><h2 id="æ ¹æ®æ–‡ä»¶å†…å®¹ç­›é€‰">æ ¹æ®æ–‡ä»¶å†…å®¹ç­›é€‰</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log -S<span class="s2">&#34;function login()&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°å‘½ä»¤å¸®ä½ åœ¨æºä»£ç ä¸­æœç´¢å·²æ·»åŠ åˆ°æäº¤å†å²è®°å½•ä¸­çš„ç‰¹å®šå­—ç¬¦ä¸²ã€‚åŒæ ·çš„ï¼ŒåŠ ä¸Š <code>-i</code> å¯ä»¥ä¸åŒºåˆ†å¤§å°å†™ã€‚</p>
<h2 id="ä»…æ˜¾ç¤ºåˆå¹¶æäº¤">ä»…æ˜¾ç¤ºåˆå¹¶æäº¤</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --merges
</code></pre></td></tr></table>
</div>
</div><p>è¯¥å‘½ä»¤æ˜¾ç¤ºå½“å‰åˆ†æ”¯ä¸Šåˆå¹¶çš„æäº¤ã€‚</p>
<h2 id="æ˜¾ç¤ºä¸åŒåˆ†æ”¯é—´çš„åŒºåˆ«">æ˜¾ç¤ºä¸åŒåˆ†æ”¯é—´çš„åŒºåˆ«</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log master..develop
</code></pre></td></tr></table>
</div>
</div><p>è¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰æ¥è‡ª <code>develop</code> ä½†ä¸åœ¨ <code>master</code> åˆ†æ”¯çš„æäº¤ã€‚</p>
<h2 id="è‡ªå®šä¹‰-log-ä¿¡æ¯æ ¼å¼">è‡ªå®šä¹‰ log ä¿¡æ¯æ ¼å¼</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ git log --pretty<span class="o">=</span>format:<span class="s2">&#34;%Cred%an - %ar%n %Cblue %h -%Cgreen %s %n&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Gitæä¾›äº†ç”¨äºè‡ªå®šä¹‰æ—¥å¿—æ¶ˆæ¯æ ¼å¼çš„é€‰é¡¹ï¼Œä½ å¯ä»¥æŸ¥çœ‹è‡ªå®šä¹‰æ¼‚äº®é€‰é¡¹ï¼ˆcustom pretty options ï¼‰ä»¥è·å¾—æ›´å¤šé€‰é¡¹ã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://hackernoon.com/ten-useful-git-log-tricks-7nt3yxy" target="_blank" rel="noopener noreffer">Ten Useful Git Log Tricks</a></p>
</li>
<li>
<p>[2] <a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2" target="_blank" rel="noopener noreffer">Git åŸºç¡€ - æŸ¥çœ‹æäº¤å†å²</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>é€æ­¥è¯¦è§£ SHA-2 ç®—æ³•ï¼ˆä»¥ SHA-256 ä¸ºä¾‹ï¼‰</title>
    <link>https://www.techkoala.top/learn_sha_2_step_by_step/</link>
    <pubDate>Tue, 28 Jul 2020 16:19:03 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/learn_sha_2_step_by_step/</guid>
    <description><![CDATA[<blockquote>
<p>æœ€å¸¸è§çš„ SHA-2 ç®—æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿæœ¬æ–‡é€æ­¥ä¸ºä½ è®²è§£ã€‚</p>
</blockquote>
<p><code>SHA-2</code> (Secure Hash Algorithm 2)ï¼Œæ˜¯æœ€æµè¡Œçš„å“ˆå¸Œç®—æ³•ä¹‹ä¸€ï¼ŒåŒ…æ‹¬äº†ï¼š<code>SHA-224</code>ã€<code>SHA-256</code>ã€<code>SHA-384</code>ã€<code>SHA-512</code>ã€<code>SHA-512/224</code>ã€<code>SHA-512/256</code>ã€‚è¿™äº›å˜ä½“é™¤äº†ç”Ÿæˆæ‘˜è¦çš„é•¿åº¦ã€å¾ªç¯è¿è¡Œçš„æ¬¡æ•°ç­‰ä¸€äº›ç»†å¾®å·®å¼‚ä¹‹å¤–ï¼ŒåŸºæœ¬ç»“æ„æ˜¯ä¸€è‡´çš„ã€‚</p>
<p><code>SHA-2</code> ä»¥å®‰å…¨å’Œé€Ÿåº¦è‘—ç§°ï¼Œåœ¨æœªç”Ÿæˆå¯†é’¥çš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚æŒ–æ˜æ¯”ç‰¹å¸ï¼‰ï¼Œåƒ <code>SHA-2</code> è¿™æ ·çš„å¿«é€Ÿå“ˆå¸Œç®—æ³•é€šå¸¸å æ®ä¸Šé£ã€‚</p>
<h2 id="å“ˆå¸Œå‡½æ•°hash-function">å“ˆå¸Œå‡½æ•°ï¼ˆHash Functionï¼‰</h2>
<p>å¦‚æœï¼Œä½ è¿˜ä¸æ¸…æ¥šå“ˆå¸Œæ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å‚è§æˆ‘çš„<a href="http://techkoala.top/hash_functions/" target="_blank" rel="noopener noreffer">å¦å¤–ä¸€ç¯‡æ–‡ç« </a></p>
<p>ç®€å•æ¥è¯´ï¼Œå“ˆå¸Œå‡½æ•°çš„æ‹¥æœ‰å¦‚ä¸‹ä¸‰ä¸ªé‡è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>å“ˆå¸Œå‡½æ•°å¯¹æ•°æ®è¿›è¡Œç¡®å®šæ€§åŠ æ‰°ã€‚</p>
</li>
<li>
<p>æ— è®ºè¾“å…¥æ˜¯ä»€ä¹ˆï¼Œå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå§‹ç»ˆå…·æœ‰ç›¸åŒçš„é•¿åº¦ï¼ˆå¤§å°ï¼‰ã€‚</p>
</li>
<li>
<p>æ— æ³•ä»åŠ æ‰°æ•°æ®ä¸­æ£€ç´¢åŸå§‹æ•°æ®ï¼ˆå•å‘å‡½æ•°ï¼‰ã€‚</p>
</li>
</ul>
<h2 id="sha-2-vs-sha-256">SHA-2 vs SHA-256</h2>
<p>æœ‰äººå¯èƒ½ä¼šå›°æƒ‘ï¼šæ¬¸ï¼Ÿæˆ‘å¹³æ—¶çœ‹åˆ°çš„éƒ½æ˜¯ <code>SHA-128</code>ã€<code>SHA-256</code> ç­‰ç­‰ï¼Œè¿™ä¸ª <code>SHA-2</code> åˆæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><code>SHA-2</code> æ˜¯ä¸€ç§ç®—æ³•ï¼Œä¸€ç§å…³äºå¦‚ä½•å“ˆå¸Œæ•°æ®çš„å¹¿ä¹‰æ€æƒ³ã€‚<code>SHA-256</code> è®¾ç½®äº†å®šä¹‰ <code>SHA-2</code> ç®—æ³•è¡Œä¸ºçš„é™„åŠ å¸¸é‡ã€‚å…¶ä¸­ä¸€ä¸ªå¸¸é‡æ˜¯è¾“å‡ºå¤§å°ï¼Œâ€œ256â€ å’Œ â€œ512â€ æ˜¯æŒ‡å®ƒä»¬å„è‡ªçš„è¾“å‡ºæ‘˜è¦å¤§å°ï¼ˆä»¥ä½ä¸ºå•ä½ï¼‰ã€‚</p>
<h2 id="é€æ­¥è¯¦è§£-sha-256">é€æ­¥è¯¦è§£ SHA-256</h2>
<p>æ¥ä¸‹æ¥ä¸¾ä¾‹è¯´æ˜ SHA-256 å¦‚ä½•å·¥ä½œ:</p>
<h3 id="ç¬¬ä¸€æ­¥æ¶ˆæ¯é¢„å¤„ç†">ç¬¬ä¸€æ­¥ï¼šæ¶ˆæ¯é¢„å¤„ç†</h3>
<ol>
<li>
<p>å°† <code>hello world</code> è½¬æ¢ä¸ºäºŒè¿›åˆ¶</p>
<blockquote>
<p>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111 01110010 01101100 01100100</p>
</blockquote>
</li>
<li>
<p>å°¾éƒ¨è¿½åŠ å•ç‹¬çš„ <code>1</code></p>
<blockquote>
<p>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111 01110010 01101100 01100100 <strong>1</strong></p>
</blockquote>
</li>
<li>
<p>å¡«å…… 0 ç›´åˆ°æ•°æ®ä¸º 512 çš„æ•´æ•°å€ï¼Œå†å‡å» 64 ä½ï¼ˆåœ¨æœ¬ä¾‹ä¸­å‰©ä¸‹ 448 ä½ï¼‰ï¼š</p>
<blockquote>
<p>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111</p>
<p>01110010 01101100 01100100 10000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
</blockquote>
</li>
<li>
<p>åœ¨æœ«å°¾é™„åŠ æ–°çš„ 64 ä½ï¼Œè¿™ 64 ä½æ˜¯ä¸€ä¸ªå¤§ç«¯æ•´æ•°ï¼Œç”¨äºè¡¨ç¤ºåŸå§‹äºŒè¿›åˆ¶è¾“å…¥çš„é•¿åº¦ã€‚åœ¨æœ¬æ–‡çš„ä¾‹å­ä¸­ï¼Œæ˜¯ <code>88</code>ï¼Œæˆ–è€…äºŒè¿›åˆ¶ï¼Œ<code>1011000</code>ã€‚</p>
<blockquote>
<p>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111</p>
<p>01110010 01101100 01100100 10000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<p>00000000 00000000 00000000 00000000 00000000 00000000 00000000 01011000</p>
</blockquote>
</li>
</ol>
<p>ç°åœ¨ï¼Œå¾—åˆ°äº†åˆå§‹çš„è¾“å…¥å€¼ï¼ˆé€šè¿‡å¯¹æ¶ˆæ¯è¿›è¡Œè¡¥ä½å¤„ç†ï¼Œæœ€ç»ˆçš„é•¿åº¦åº”è¯¥æ˜¯ 512 ä½çš„å€æ•°ï¼‰ã€‚</p>
<h3 id="ç¬¬äºŒæ­¥åˆå§‹åŒ–å“ˆå¸Œå€¼h">ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–å“ˆå¸Œå€¼ï¼ˆhï¼‰</h3>
<p>ç°åœ¨ï¼Œåˆå§‹åŒ– 8 ä¸ªå“ˆå¸Œå€¼ã€‚è¿™äº›æ˜¯ç¡¬ç¼–ç çš„å¸¸æ•°ï¼Œåˆ†åˆ«ä»£è¡¨å‰ 8 ä¸ªç´ æ•°ï¼ˆ2ã€3ã€5ã€7ã€11ã€13ã€17ã€19ï¼‰çš„å¹³æ–¹æ ¹çš„å°æ•°éƒ¨åˆ†çš„å‰ 32 ä½ï¼š</p>
<blockquote>
<p>h0 := 0x6a09e667</p>
<p>h1 := 0xbb67ae85</p>
<p>h2 := 0x3c6ef372</p>
<p>h3 := 0xa54ff53a</p>
<p>h4 := 0x510e527f</p>
<p>h5 := 0x9b05688c</p>
<p>h6 := 0x1f83d9ab</p>
<p>h7 := 0x5be0cd19</p>
</blockquote>
<h3 id="ç¬¬ä¸‰æ­¥åˆå§‹åŒ–åœ†å¸¸æ•°k">ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–åœ†å¸¸æ•°(k)</h3>
<p>ä¸æ­¥éª¤ 2 ç±»ä¼¼ï¼Œåˆå§‹åŒ–ä¸€äº›å¸¸é‡ï¼Œä¸€å…±æœ‰ 64 ä¸ªã€‚æ¯ä¸ªå€¼ï¼ˆ0-63ï¼‰æ˜¯å‰ 64 ä¸ªç´ æ•°ï¼ˆ2-311ï¼‰çš„ç«‹æ–¹æ ¹åˆ†æ•°éƒ¨åˆ†çš„å‰ 32 ä½ã€‚</p>
<blockquote>
<p>0x428a2f98 0x71374491 0xb5c0fbcf 0xe9b5dba5 0x3956c25b 0x59f111f1</p>
<p>0x923f82a4 0xab1c5ed5 0xd807aa98 0x12835b01 0x243185be 0x550c7dc3</p>
<p>0x72be5d74 0x80deb1fe 0x9bdc06a7 0xc19bf174 0xe49b69c1 0xefbe4786</p>
<p>0x0fc19dc6 0x240ca1cc 0x2de92c6f 0x4a7484aa 0x5cb0a9dc 0x76f988da</p>
<p>0x983e5152 0xa831c66d 0xb00327c8 0xbf597fc7 0xc6e00bf3 0xd5a79147</p>
<p>0x06ca6351 0x14292967 0x27b70a85 0x2e1b2138 0x4d2c6dfc 0x53380d13</p>
<p>0x650a7354 0x766a0abb 0x81c2c92e 0x92722c85 0xa2bfe8a1 0xa81a664b</p>
<p>0xc24b8b70 0xc76c51a3 0xd192e819 0xd6990624 0xf40e3585 0x106aa070</p>
<p>0x19a4c116 0x1e376c08 0x2748774c 0x34b0bcb5 0x391c0cb3 0x4ed8aa4a</p>
<p>0x5b9cca4f 0x682e6ff3 0x748f82ee 0x78a5636f 0x84c87814 0x8cc70208</p>
<p>0x90befffa 0xa4506ceb 0xbef9a3f7 0xc67178f2</p>
</blockquote>
<h3 id="ç¬¬å››æ­¥å—å¾ªç¯">ç¬¬å››æ­¥ï¼šå—å¾ªç¯</h3>
<p>å¯¹è¾“å…¥çš„æ¯ 512 ä½åˆ†ä¸ºä¸€å—ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<p><strong>æ³¨ï¼š</strong> åœ¨æœ¬æ–‡çš„ä¾‹å­ä¸­ï¼Œå› ä¸º â€œhello worldâ€ å¤ªçŸ­äº†ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå—ã€‚åœ¨å¾ªç¯çš„æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œéƒ½å°†å¯¹å“ˆå¸Œå€¼ h0-h7 è¿›è¡Œå˜æ›´ï¼Œæœ€ç»ˆä½œä¸ºç»“æœè¾“å‡ºã€‚</p>
<h3 id="ç¬¬äº”æ­¥é‡ç»„ä¿¡æ¯æ•°ç»„w">ç¬¬äº”æ­¥ï¼šé‡ç»„ä¿¡æ¯æ•°ç»„ï¼ˆwï¼‰</h3>
<ol>
<li>
<p>å°†æ­¥éª¤ 1 ä¸­çš„è¾“å…¥æ•°æ®é‡æ–°æ’åˆ—åˆ°æ–°æ•°ç»„ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªæ¡ç›®éƒ½æ˜¯ä¸€ä¸ª 32 ä½å­—ï¼š</p>
<blockquote>
<p>01101000011001010110110001101100 01101111001000000111011101101111</p>
<p>01110010011011000110010010000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000001011000</p>
</blockquote>
</li>
<li>
<p>å†åŠ ä¸Š 48 ä¸ªåˆå§‹åŒ–ä¸ºé›¶çš„å­—ï¼Œè¿™æ ·å°±æœ‰äº†ä¸€ä¸ªæ•°ç»„ <strong>w [0â€¦63]</strong></p>
<blockquote>
<p>01101000011001010110110001101100 01101111001000000111011101101111</p>
<p>01110010011011000110010010000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000001011000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>&hellip; &hellip;</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
</blockquote>
</li>
<li>
<p>ä½¿ç”¨ä»¥ä¸‹ç®—æ³•ä¿®æ”¹æ•°ç»„æœ«å°¾çš„é›¶ç´¢å¼•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">For i from w[16â€¦63]:
    s0 = (w[i-15] rightrotate 7) xor (w[i-15] rightrotate 18) xor (w[i-15] rightshift 3)

    s1 = (w[i- 2] rightrotate 17) xor (w[i- 2] rightrotate 19) xor (w[i- 2] rightshift 10)

    w[i] = w[i-16] + s0 + w[i-7] + s1
</code></pre></td></tr></table>
</div>
</div><p>ä»¥ w[16] ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<blockquote>
<p>w[1] rightrotate 7:</p>
<p>01101111001000000111011101101111 -&gt; 11011110110111100100000011101110</p>
</blockquote>
<blockquote>
<p>w[1] rightrotate 18:</p>
<p>01101111001000000111011101101111 -&gt; 00011101110110111101101111001000</p>
</blockquote>
<blockquote>
<p>w[1] rightshift 3:</p>
<p>01101111001000000111011101101111 -&gt; 00001101111001000000111011101101</p>
</blockquote>
<blockquote>
<p>s0 = 11011110110111100100000011101110</p>
<p><strong>XOR</strong> 00011101110110111101101111001000</p>
<p><strong>XOR</strong> 00001101111001000000111011101101</p>
<p>= 11001110111000011001010111001011</p>
</blockquote>
<blockquote>
<p>w[14] rightrotate 17:</p>
<p>00000000000000000000000000000000 -&gt; 00000000000000000000000000000000</p>
</blockquote>
<blockquote>
<p>w[14] rightrotate19:</p>
<p>00000000000000000000000000000000 -&gt; 00000000000000000000000000000000</p>
</blockquote>
<blockquote>
<p>w[14] rightshift 10:</p>
<p>00000000000000000000000000000000 -&gt; 00000000000000000000000000000000</p>
</blockquote>
<blockquote>
<p>s1 = 00000000000000000000000000000000</p>
<p><strong>XOR</strong> 00000000000000000000000000000000</p>
<p><strong>XOR</strong> 00000000000000000000000000000000</p>
<p>= 00000000000000000000000000000000</p>
</blockquote>
<blockquote>
<p>w[16] = w[0] + s0 + w[9] + s1</p>
<p>= 01101000011001010110110001101100 <br>
+ 11001110111000011001010111001011 <br>
+ 00000000000000000000000000000000 <br>
+ 00000000000000000000000000000000 <br>
= 00110111010001110000001000110111</p>
<p>// addition is calculated modulo $ 2^{32} $</p>
</blockquote>
<p>æ€»çš„ç»“æœå°±æ˜¯ï¼š</p>
<blockquote>
<p>01101000011001010110110001101100 01101111001000000111011101101111</p>
<p>01110010011011000110010010000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000000000000</p>
<p>00000000000000000000000000000000 00000000000000000000000001011000</p>
<p>00110111010001110000001000110111 10000110110100001100000000110001</p>
<p>11010011101111010001000100001011 01111000001111110100011110000010</p>
<p>00101010100100000111110011101101 01001011001011110111110011001001</p>
<p>00110001111000011001010001011101 10001001001101100100100101100100</p>
<p>01111111011110100000011011011010 11000001011110011010100100111010</p>
<p>10111011111010001111011001010101 00001100000110101110001111100110</p>
<p>10110000111111100000110101111101 01011111011011100101010110010011</p>
<p>00000000100010011001101101010010 00000111111100011100101010010100</p>
<p>00111011010111111110010111010110 01101000011001010110001011100110</p>
<p>11001000010011100000101010011110 00000110101011111001101100100101</p>
<p>10010010111011110110010011010111 01100011111110010101111001011010</p>
<p>11100011000101100110011111010111 10000100001110111101111000010110</p>
<p>11101110111011001010100001011011 10100000010011111111001000100001</p>
<p>11111001000110001010110110111000 00010100101010001001001000011001</p>
<p>00010000100001000101001100011101 01100000100100111110000011001101</p>
<p>10000011000000110101111111101001 11010101101011100111100100111000</p>
<p>00111001001111110000010110101101 11111011010010110001101111101111</p>
<p>11101011011101011111111100101001 01101010001101101001010100110100</p>
<p>00100010111111001001110011011000 10101001011101000000110100101011</p>
<p>01100000110011110011100010000101 11000100101011001001100000111010</p>
<p>00010001010000101111110110101101 10110000101100000001110111011001</p>
<p>10011000111100001100001101101111 01110010000101111011100000011110</p>
<p>10100010110101000110011110011010 00000001000011111001100101111011</p>
<p>11111100000101110100111100001010 11000010110000101110101100010110</p>
</blockquote>
</li>
</ol>
<h3 id="ç¬¬å…­æ­¥å‹ç¼©">ç¬¬å…­æ­¥ï¼šå‹ç¼©</h3>
<ol>
<li>
<p>åˆå§‹åŒ–å˜é‡ aï¼Œbï¼Œcï¼Œdï¼Œeï¼Œfï¼Œgï¼Œhï¼Œå¹¶å°†å®ƒä»¬åˆ†åˆ«è®¾ç½®ä¸ºç­‰äºå½“å‰çš„å“ˆå¸Œå€¼ï¼šh0ï¼Œh1ï¼Œh2ï¼Œh3ï¼Œh4ï¼Œh5ï¼Œh6ï¼Œh7</p>
</li>
<li>
<p>è¿›è¡Œå‹ç¼©å¾ªç¯ã€‚ å‹ç¼©å¾ªç¯å°†æ”¹å˜ aâ€¦h çš„å€¼ã€‚å‹ç¼©å¾ªç¯å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">for i from 0 to 63:
    S1 = (e rightrotate 6) xor (e rightrotate 11) xor (e rightrotate 25)
    ch = (e and f) xor ((not e) and g)
    temp1 = h + S1 + ch + k[i] + w[i]
    S0 = (a rightrotate 2) xor (a rightrotate 13) xor (a rightrotate 22)
    maj = (a and b) xor (a and c) xor (b and c)
    temp2 := S0 + maj
    h = g
    g = f
    e = d + temp1
    d = c
    c = b
    b = a
    a = temp1 + temp2
</code></pre></td></tr></table>
</div>
</div><p>ä¸‹é¢æ¼”ç¤ºç¬¬ä¸€æ¬¡è¿­ä»£ï¼Œæ‰€æœ‰åŠ æ³•éƒ½æ˜¯ä»¥ $ 2^{32} $ ä¸ºæ¨¡çš„ï¼š</p>
<blockquote>
<p>a = 0x6a09e667 = 01101010000010011110011001100111</p>
<p>b = 0xbb67ae85 = 10111011011001111010111010000101</p>
<p>c = 0x3c6ef372 = 00111100011011101111001101110010</p>
<p>d = 0xa54ff53a = 10100101010011111111010100111010</p>
<p>e = 0x510e527f = 01010001000011100101001001111111</p>
<p>f = 0x9b05688c = 10011011000001010110100010001100</p>
<p>g = 0x1f83d9ab = 00011111100000111101100110101011</p>
<p>h = 0x5be0cd19 = 01011011111000001100110100011001</p>
</blockquote>
<blockquote>
<p>e rightrotate 6:</p>
<p>01010001000011100101001001111111 -&gt; 11111101010001000011100101001001</p>
</blockquote>
<blockquote>
<p>e rightrotate 11:</p>
<p>01010001000011100101001001111111 -&gt; 01001111111010100010000111001010</p>
</blockquote>
<blockquote>
<p>e rightrotate 25:</p>
<p>01010001000011100101001001111111 -&gt; 10000111001010010011111110101000</p>
</blockquote>
<blockquote>
<p>S1 = 11111101010001000011100101001001</p>
<p><strong>XOR</strong> 01001111111010100010000111001010</p>
<p><strong>XOR</strong> 10000111001010010011111110101000</p>
<p>= 00110101100001110010011100101011</p>
</blockquote>
<blockquote>
<p>e and f:</p>
<p>01010001000011100101001001111111
&amp; 10011011000001010110100010001100 =
00010001000001000100000000001100</p>
</blockquote>
<blockquote>
<p>not e:</p>
<p>01010001000011100101001001111111 -&gt; 10101110111100011010110110000000</p>
</blockquote>
<blockquote>
<p>(not e) and g:</p>
<p>10101110111100011010110110000000
&amp; 00011111100000111101100110101011
= 00001110100000011000100110000000</p>
</blockquote>
<blockquote>
<p>ch = (e and f) xor ((not e) and g)</p>
<p>= 00010001000001000100000000001100</p>
<p><strong>XOR</strong> 00001110100000011000100110000000</p>
<p>= 00011111100001011100100110001100</p>
</blockquote>
<blockquote>
<p>// k[i] æ˜¯åœ†å¸¸æ•°</p>
<p>// w[i] ä¿¡æ¯æ•°ç»„</p>
</blockquote>
<blockquote>
<p>temp1 = h + S1 + ch + k[i] + w[i]</p>
<p>= 01011011111000001100110100011001
+ 00110101100001110010011100101011
+ 00011111100001011100100110001100
+ 1000010100010100010111110011000
+ 01101000011001010110110001101100
= 01011011110111010101100111010100</p>
</blockquote>
<blockquote>
<p>a rightrotate 2:</p>
<p>01101010000010011110011001100111 -&gt; 11011010100000100111100110011001</p>
</blockquote>
<blockquote>
<p>a rightrotate 13:</p>
<p>01101010000010011110011001100111 -&gt; 00110011001110110101000001001111</p>
</blockquote>
<blockquote>
<p>a rightrotate 22:</p>
<p>01101010000010011110011001100111 -&gt; 00100111100110011001110110101000</p>
</blockquote>
<blockquote>
<p>S0 = 11011010100000100111100110011001</p>
<p><strong>XOR</strong> 00110011001110110101000001001111</p>
<p><strong>XOR</strong> 00100111100110011001110110101000</p>
<p>= 11001110001000001011010001111110</p>
</blockquote>
<blockquote>
<p>a and b:</p>
<p>01101010000010011110011001100111
&amp; 10111011011001111010111010000101 =
00101010000000011010011000000101</p>
</blockquote>
<blockquote>
<p>a and c:</p>
<p>01101010000010011110011001100111
&amp; 00111100011011101111001101110010 =
00101000000010001110001001100010</p>
</blockquote>
<blockquote>
<p>b and c:</p>
<p>10111011011001111010111010000101
&amp; 00111100011011101111001101110010 =
00111000011001101010001000000000</p>
</blockquote>
<blockquote>
<p>maj = (a and b) xor (a and c) xor (b and c)</p>
<p>= 00101010000000011010011000000101</p>
<p><strong>XOR</strong> 00101000000010001110001001100010</p>
<p><strong>XOR</strong> 00111000011001101010001000000000</p>
<p>= 00111010011011111110011001100111</p>
</blockquote>
<blockquote>
<p>temp2 = S0 + maj
= 11001110001000001011010001111110 + 00111010011011111110011001100111
= 00001000100100001001101011100101</p>
</blockquote>
<blockquote>
<p>h = 00011111100000111101100110101011</p>
<p>g = 10011011000001010110100010001100</p>
<p>f = 01010001000011100101001001111111</p>
<p>e = 10100101010011111111010100111010 + 01011011110111010101100111010100
= 00000001001011010100111100001110</p>
<p>d = 00111100011011101111001101110010</p>
<p>c = 10111011011001111010111010000101</p>
<p>b = 01101010000010011110011001100111</p>
<p>a = 01011011110111010101100111010100 + 00001000100100001001101011100101
= 01100100011011011111010010111001</p>
</blockquote>
<p>æ•´ä¸ªè®¡ç®—ä¼šç»§ç»­å¾ªç¯è¿›è¡Œäº† 63 æ¬¡ï¼ŒæœŸé—´ä¸æ–­ä¿®æ”¹äº†å˜é‡ a-h çš„å€¼ã€‚æœ€ç»ˆç»“æœä¸ºï¼š</p>
<blockquote>
<p>a = 4F434152 = 001001111010000110100000101010010</p>
<p>b = D7E58F83 = 011010111111001011000111110000011</p>
<p>c = 68BF5F65 = 001101000101111110101111101100101</p>
<p>d = 352DB6C0 = 000110101001011011011011011000000</p>
<p>e = 73769D64 = 001110011011101101001110101100100</p>
<p>f = DF4E1862 = 011011111010011100001100001100010</p>
<p>g = 71051E01 = 001110001000001010001111000000001</p>
<p>h = 870F00D0 = 010000111000011110000000011010000</p>
</blockquote>
</li>
</ol>
<h3 id="ç¬¬ä¸ƒæ­¥ä¿®æ”¹æœ€ç»ˆå€¼">ç¬¬ä¸ƒæ­¥ï¼šä¿®æ”¹æœ€ç»ˆå€¼</h3>
<p>å‹ç¼©å¾ªç¯å®Œæˆåï¼Œä»ç„¶å¤„äºåœ¨å—å¾ªç¯ä¸­ï¼Œé€šè¿‡å‘å“ˆå¸Œå€¼ä¸­æ·»åŠ å®ƒä»¬å„è‡ªçš„å˜é‡ a-h æ¥ä¿®æ”¹å“ˆå¸Œå€¼ã€‚åŒæ ·çš„ï¼Œæ‰€æœ‰çš„åŠ æ³•éƒ½æ˜¯æ¨¡ $ 2^{32} $ã€‚</p>
<blockquote>
<p>h0 = h0 + a = 10111001010011010010011110111001</p>
<p>h1 = h1 + b = 10010011010011010011111000001000</p>
<p>h2 = h2 + c = 10100101001011100101001011010111</p>
<p>h3 = h3 + d = 11011010011111011010101111111010</p>
<p>h4 = h4 + e = 11000100100001001110111111100011</p>
<p>h5 = h5 + f = 01111010010100111000000011101110</p>
<p>h6 = h6 + g = 10010000100010001111011110101100</p>
<p>h7 = h7 + h = 11100010111011111100110111101001</p>
</blockquote>
<h3 id="ç¬¬å…«æ­¥-ç»„æˆæœ€ç»ˆçš„å“ˆå¸Œå€¼">ç¬¬å…«æ­¥: ç»„æˆæœ€ç»ˆçš„å“ˆå¸Œå€¼</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">digest = h0 append h1 append h2 append h3 append h4 append h5 append h6 append h7
       = B94D27B9934D3E08A52E52D7DA7DABFAC484EFE37A5380EE9088F7ACE2EFCDE9
</code></pre></td></tr></table>
</div>
</div><p>æå®šï¼è‡³æ­¤ï¼Œæœ¬æ–‡éå¸¸è¯¦ç»†åœ°å®ç°äº† SHA-256 ä¸­çš„æ¯ä¸€æ­¥ğŸ™‚ã€‚</p>
<h2 id="é™„å½•">é™„å½•</h2>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/SHA-2/SHA-2.png" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/SHA-2/SHA-2.png" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/SHA-2/SHA-2.png" data-sub-html="<h2>SHA-2 çš„ç¬¬ t ä¸ªåŠ å¯†å¾ªç¯</h2>">
        
    </a><figcaption class="image-caption">SHA-2 çš„ç¬¬ t ä¸ªåŠ å¯†å¾ªç¯</figcaption>
    </figure>
<p>ä¸‹é¢è¿™æ®µ<strong>ä¼ªä»£ç </strong>æ€»ç»“äº†ä¸Šé¢æ‰§è¡Œçš„æ‰€æœ‰æ­¥éª¤ï¼š</p>
<blockquote>
<p>æ³¨ 1ï¼šæ‰€æœ‰å˜é‡å‡ä¸º 32 ä½æ— ç¬¦å·æ•´æ•°ï¼ŒåŠ æ³•ä»¥ $ 2^{32} $ ä¸ºæ¨¡</p>
<p>æ³¨ 2ï¼šå¯¹äºæ¯ä¸€è½®ï¼Œåœ¨æ¶ˆæ¯è°ƒåº¦æ•°ç»„ w [i]ï¼Œ0â‰¤iâ‰¤63 ä¸­æœ‰ä¸€ä¸ªå¾ªç¯å¸¸æ•° k [i] å’Œä¸€ä¸ªæ¡ç›®ã€‚</p>
<p>æ³¨ 3ï¼šå‹ç¼©å‡½æ•°ä½¿ç”¨ 8 ä¸ªå·¥ä½œå˜é‡ï¼Œa åˆ° hã€‚</p>
<p>æ³¨ 4ï¼šåœ¨æ­¤ä¼ªä»£ç ä¸­è¡¨ç¤ºå¸¸é‡æ—¶ä½¿ç”¨å¤§ç«¯çº¦å®šï¼Œå¹¶ä¸”å½“å°†æ¶ˆæ¯å—æ•°æ®ä»å­—èŠ‚è§£æåˆ°å­—æ—¶ï¼Œä¾‹å¦‚ï¼Œå¡«å……åçš„è¾“å…¥æ¶ˆæ¯ â€œabcâ€ çš„ç¬¬ä¸€ä¸ªå­—æ˜¯ 0x61626380</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">Initialize hash values:
(first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):
h0 := 0x6a09e667
h1 := 0xbb67ae85
h2 := 0x3c6ef372
h3 := 0xa54ff53a
h4 := 0x510e527f
h5 := 0x9b05688c
h6 := 0x1f83d9ab
h7 := 0x5be0cd19

Initialize array of round constants:
(first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311):
k[0..63] :=
   0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
   0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
   0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
   0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
   0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
   0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
   0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
   0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2

Pre-processing (Padding):
begin with the original message of length L bits
append a single &#39;1&#39; bit
append K &#39;0&#39; bits, where K is the minimum number &gt;= 0 such that L + 1 + K + 64 is a multiple of 512
append L as a 64-bit big-endian integer, making the total post-processed length a multiple of 512 bits

Process the message in successive 512-bit chunks:
break message into 512-bit chunks
for each chunk
    create a 64-entry message schedule array w[0..63] of 32-bit words
    (The initial values in w[0..63] don&#39;t matter, so many implementations zero them here)
    copy chunk into first 16 words w[0..15] of the message schedule array

    Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array:
    for i from 16 to 63
        s0 := (w[i-15] rightrotate  7) xor (w[i-15] rightrotate 18) xor (w[i-15] rightshift  3)
        s1 := (w[i- 2] rightrotate 17) xor (w[i- 2] rightrotate 19) xor (w[i- 2] rightshift 10)
        w[i] := w[i-16] + s0 + w[i-7] + s1

    Initialize working variables to current hash value:
    a := h0
    b := h1
    c := h2
    d := h3
    e := h4
    f := h5
    g := h6
    h := h7

    Compression function main loop:
    for i from 0 to 63
        S1 := (e rightrotate 6) xor (e rightrotate 11) xor (e rightrotate 25)
        ch := (e and f) xor ((not e) and g)
        temp1 := h + S1 + ch + k[i] + w[i]
        S0 := (a rightrotate 2) xor (a rightrotate 13) xor (a rightrotate 22)
        maj := (a and b) xor (a and c) xor (b and c)
        temp2 := S0 + maj
 
        h := g
        g := f
        f := e
        e := d + temp1
        d := c
        c := b
        b := a
        a := temp1 + temp2

    Add the compressed chunk to the current hash value:
    h0 := h0 + a
    h1 := h1 + b
    h2 := h2 + c
    h3 := h3 + d
    h4 := h4 + e
    h5 := h5 + f
    h6 := h6 + g
    h7 := h7 + h

Produce the final hash value (big-endian):
digest := hash := h0 append h1 append h2 append h3 append h4 append h5 append h6 append h7
</code></pre></td></tr></table>
</div>
</div><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/" target="_blank" rel="noopener noreffer">How SHA-2 Works Step-By-Step (SHA-256)</a></p>
</li>
<li>
<p>[2] <a href="https://en.wikipedia.org/wiki/SHA-2" target="_blank" rel="noopener noreffer">SHA-2</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>å“ˆå¸Œå‡½æ•°ç®€ä»‹</title>
    <link>https://www.techkoala.top/hash_functions/</link>
    <pubDate>Sat, 25 Jul 2020 16:30:31 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/hash_functions/</guid>
    <description><![CDATA[<blockquote>
<p>å“ˆå¸Œå‡½æ•°å…¥é—¨ä»‹ç»ã€‚</p>
</blockquote>
<h2 id="å“ˆå¸Œå‡½æ•°hash-functionç”¨æ¥åšä»€ä¹ˆ">å“ˆå¸Œå‡½æ•°ï¼ˆHash Functionï¼‰ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h2>
<p>å“ˆå¸Œå‡½æ•°ï¼Œåˆç§°æ•£åˆ—å‡½æ•°ï¼Œå¹¿æ³›åº”ç”¨äºäº’è”ç½‘çš„å„å¤„ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå®‰å…¨åœ°å­˜å‚¨å¯†ç ã€æŸ¥æ‰¾é‡å¤è®°å½•ã€å¿«é€Ÿå­˜å‚¨å’Œæ£€ç´¢æ•°æ®ç­‰ã€‚ä¾‹å¦‚ï¼ŒQvault åº”ç”¨ä½¿ç”¨å“ˆå¸Œå°†ä¸»å¯†ç æ‰©å±•ä¸ºç§äººåŠ å¯†å¯†é’¥ã€‚ä½ è¿˜å¯ä»¥ <a href="https://en.wikipedia.org/wiki/Hash_function#Uses" target="_blank" rel="noopener noreffer">ç‚¹å‡»è¿™é‡Œ</a> æŸ¥çœ‹å“ˆå¸Œå‡½æ•°ç”¨äºä½•å¤„ã€‚</p>
<h2 id="é‡è¦ç‰¹æ€§">é‡è¦ç‰¹æ€§</h2>
<p>å“ˆå¸Œå‡½æ•°çš„æ‹¥æœ‰å¦‚ä¸‹ä¸‰ä¸ªé‡è¦ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§å¯ä»¥è¯´æ˜¯æœ€é‡è¦çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>å“ˆå¸Œå‡½æ•°å¯¹æ•°æ®è¿›è¡Œç¡®å®šæ€§åŠ æ‰°ã€‚</p>
</li>
<li>
<p>æ— è®ºè¾“å…¥æ˜¯ä»€ä¹ˆï¼Œå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå§‹ç»ˆå…·æœ‰ç›¸åŒçš„é•¿åº¦ï¼ˆå¤§å°ï¼‰ã€‚</p>
</li>
<li>
<p>æ— æ³•ä»åŠ æ‰°æ•°æ®ä¸­æ£€ç´¢åŸå§‹æ•°æ®ï¼ˆå•å‘å‡½æ•°ï¼‰ã€‚</p>
</li>
</ul>
<h3 id="ç¡®å®šæ€§åŠ æ‰°">ç¡®å®šæ€§åŠ æ‰°</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœéšæœºæ‰­åŠ¨ä¸€ä¸ªé­”æ–¹ï¼Œåˆ°æœ€åä¼šå¾—åˆ°ä¸€äº›å’Œå¼€å§‹æ—¶ä¸ä¸€æ ·çš„ä¸œè¥¿ã€‚ä½†æ˜¯ï¼Œå¦‚æœé‡æ–°å¼€å§‹ï¼Œå¹¶åšå®Œå…¨ç›¸åŒçš„ä¸€ç³»åˆ—åŠ¨ä½œï¼Œé‚£ä¹ˆå°†èƒ½å¤Ÿåå¤å¾—åˆ°å®Œå…¨ç›¸åŒçš„ç»“æœã€‚å°½ç®¡ç»“æœå¯èƒ½çœ‹èµ·æ¥æ˜¯éšæœºçš„ï¼Œä½†å®ƒå…¶å®æ˜¯ä¸¥æ ¼æŒ‰ç…§ä¸€å®šçš„è§„åˆ™è¿›è¡Œå˜å¹»åœ°ï¼Œè¿™å°±æ˜¯<strong>ç¡®å®šæ€§åŠ æ‰°</strong>çš„å«ä¹‰ã€‚</p>
<p>ç¡®å®šæ€§å¯¹äºå®‰å…¨å­˜å‚¨å¯†ç å¾ˆé‡è¦ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘çš„å¯†ç æ˜¯ <code>iLoveBitcoin</code>ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨å“ˆå¸Œå‡½æ•°å¯¹å…¶è¿›è¡ŒåŠ æ‰°ï¼š</p>
<blockquote>
<p>iLoveBitcoin â†’ &ldquo;2f5sfsdfs5s1fsfsdf98ss4f84sfs6d5fs2d1fdf15&rdquo;</p>
</blockquote>
<p>ç°åœ¨ï¼Œä»»ä½•äººçœ‹åˆ°åŠ æ‰°åçš„ç‰ˆæœ¬ï¼Œä»–ä»¬éƒ½ä¸ä¼šçŸ¥é“æˆ‘çš„åŸå§‹å¯†ç ï¼è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºè¿™æ„å‘³ç€ä½œä¸ºä¸€ä¸ªç½‘ç«™å¼€å‘äººå‘˜ï¼Œæˆ‘åªéœ€è¦å­˜å‚¨æˆ‘ç”¨æˆ·å¯†ç çš„å“ˆå¸Œ(åŠ æ‰°æ•°æ®)å°±å¯ä»¥éªŒè¯å®ƒä»¬ã€‚å½“ç”¨æˆ·æ³¨å†Œæ—¶ï¼Œæˆ‘å°†ç”¨æˆ·å¯†ç è¿›è¡Œå“ˆå¸Œè¿ç®—ç„¶åå°†å…¶å­˜å‚¨åœ¨æˆ‘çš„æ•°æ®åº“ä¸­ã€‚å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œæˆ‘åªæ˜¯å¯¹ä»–ä»¬è¾“å…¥çš„å†…å®¹å†æ¬¡è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå¹¶æ¯”è¾ƒä¸¤ä¸ªå“ˆå¸Œå€¼ã€‚å› ä¸ºç»™å®šçš„è¾“å…¥æ€»æ˜¯ç”Ÿæˆç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¾ˆæ–¹ä¾¿åœ°è¿›è¡ŒéªŒè¯ã€‚</p>
<h3 id="è¾“å‡ºå®šé•¿">è¾“å‡ºå®šé•¿</h3>
<p>å¦‚æœå¯¹<strong>å•ä¸ªå•è¯</strong>è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œåˆ™è¾“å‡ºå°†å…·æœ‰ä¸€å®šçš„å¤§å°ï¼ˆå¯¹äº <code>SHA-256</code>ï¼Œåˆ™ä¸ºç‰¹å®šçš„å“ˆå¸Œå‡½æ•°ï¼Œå¤§å°ä¸º 256 ä½ï¼‰ã€‚å³ä¾¿æˆ‘å¯¹<strong>ä¸€æœ¬ä¹¦</strong>è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œè¾“å‡ºåŒæ ·å°†æ˜¯ç›¸åŒçš„å¤§å°ã€‚</p>
<p>è¿™æ˜¯å¦ä¸€ä¸ªé‡è¦çš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒå¯ä»¥èŠ‚çœæˆ‘ä»¬çš„è®¡ç®—æ—¶é—´ã€‚ ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯ä½¿ç”¨å“ˆå¸Œä½œä¸ºæ•°æ®æ˜ å°„ä¸­çš„é”®ã€‚ æ•°æ®æ˜ å°„æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ç”¨æ¥å­˜å‚¨æ•°æ®çš„ä¸€ç§ç®€å•ç»“æ„ã€‚</p>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/Hash/key-map.webp" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/Hash/key-map.webp" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Algorithm/Hash/key-map.webp" data-sub-html="<h2>æ•°æ®æ˜ å°„</h2>">
        
    </a><figcaption class="image-caption">æ•°æ®æ˜ å°„</figcaption>
    </figure>
<p>å½“ç¨‹åºåœ¨æ˜ å°„ä¸­å­˜å‚¨æ•°æ®æ—¶ï¼Œä¼šä¸ºæ˜ å°„æŒ‡å®šä¸€ä¸ªé”®å’Œå€¼ã€‚å½“ç¨‹åºæƒ³è¦è®¿é—®è¯¥å€¼æ—¶ï¼Œå®ƒåªè¦æä¾›é€‚å½“çš„é”®å°±èƒ½æ¥æ”¶ç›¸åº”çš„å€¼ã€‚æ•°æ®æ˜ å°„å¾ˆå¥½ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç«‹å³æ‰¾åˆ°æ•°æ®ã€‚è®¡ç®—æœºé€šè¿‡é”®å¯ä»¥ç«‹å³æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œè€Œä¸æ˜¯èŠ±è´¹æ•°å°æ—¶åœ¨æ•°ç™¾ä¸‡æ¡è®°å½•ä¸­æœç´¢ã€‚</p>
<p>å› ä¸ºé”®ç±»ä¼¼äºåœ°å€ï¼Œæ‰€ä»¥å®ƒä»¬ä¸èƒ½å¤ªå¤§ã€‚å¦‚æœæˆ‘æƒ³å°†å›¾ä¹¦å­˜å‚¨åœ¨æ•°æ®æ˜ å°„ä¸­ï¼Œæˆ‘å¯ä»¥å¯¹å›¾ä¹¦çš„å†…å®¹è¿›è¡Œå“ˆå¸Œï¼Œå¹¶ä½¿ç”¨è¯¥å“ˆå¸Œä½œä¸ºé”®ã€‚</p>
<h2 id="å“ˆå¸Œå¤„ç†å¦‚ä½•è¿›è¡Œ">å“ˆå¸Œå¤„ç†å¦‚ä½•è¿›è¡Œï¼Ÿ</h2>
<p>æ¥ä¸‹æ¥ï¼Œä»¥ <code>LANEHASH</code> ç®—æ³•ä¸ºä¾‹ï¼Œç®€è¦è®²è§£å“ˆå¸Œå¤„ç†æ˜¯å¦‚ä½•å®Œæˆçš„ã€‚</p>
<ol>
<li>
<p>é¦–å…ˆï¼Œé€‰å–ä¸‹é¢çš„æ•°æ®è¿›è¡Œå“ˆå¸Œå¤„ç†</p>
<blockquote>
<p>iLoveBitcoin</p>
</blockquote>
</li>
<li>
<p>å°†å­—æ¯è½¬æ¢æˆäºŒè¿›åˆ¶</p>
<blockquote>
<p>iLoveBitcoinâ†’ 100010100000101111</p>
</blockquote>
<p><strong>æ³¨:</strong> åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å„ç§é¢„å®šçš„æ­¥éª¤æ¥è½¬æ¢æˆ‘ä»¬çš„åŸå§‹æ•°æ®ã€‚è½¬æ¢æ–¹å¼å¯ä»¥é‡‡ç”¨å„ç§æ–¹å¼ï¼Œä½†é‡è¦çš„æ˜¯ï¼Œæ¯å½“æˆ‘ä»¬ä½¿ç”¨ LANEHASH æ—¶ï¼Œéƒ½éœ€è¦ä½¿ç”¨ç›¸åŒçš„æ­¥éª¤ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„ç®—æ³•æ˜¯ç¡®å®šæ€§çš„ã€‚</p>
</li>
<li>
<p>å°†æ¯”ç‰¹å‰å››ä½ä»å·¦ç§»åˆ°å³è¾¹</p>
<blockquote>
<p><strong>1000</strong>10100000101111 â†’ 10100000101111<strong>1000</strong></p>
</blockquote>
</li>
<li>
<p>å¥‡å¶åˆ†ç¦»æ¯”ç‰¹</p>
<blockquote>
<p><strong>1</strong>0<strong>1</strong>0<strong>0</strong>0<strong>0</strong>0<strong>1</strong>0<strong>1</strong>1<strong>1</strong>1<strong>1</strong>0<strong>0</strong>0 â†’ 110011110 &amp; 000001100</p>
</blockquote>
</li>
<li>
<p>åˆ†åˆ«è½¬åŒ–ä¸ºåè¿›åˆ¶æ•°</p>
<blockquote>
<p>110011110 â†’ 414</p>
</blockquote>
<blockquote>
<p>000001100â†’ 12</p>
</blockquote>
</li>
<li>
<p>ä¸¤æ•°ç›¸ä¹˜</p>
<blockquote>
<p>414 *12 = 4968</p>
</blockquote>
</li>
<li>
<p>ä¹˜ç§¯å¹³æ–¹</p>
<blockquote>
<p>4968 ^ 2 = 24681024</p>
</blockquote>
</li>
<li>
<p>å†æ¬¡è½¬æ¢ä¸ºäºŒè¿›åˆ¶</p>
<blockquote>
<p>24681024 â†’1011110001001101001000000</p>
</blockquote>
</li>
<li>
<p>å‰¥ç¦»å³è¾¹çš„9ä¸ªæ¯”ç‰¹ä»¥å¾—åˆ°16ä½æ¯”ç‰¹</p>
<blockquote>
<p>1011110001001101<strong>001000000</strong> â†’ 1011110001001101</p>
</blockquote>
</li>
<li>
<p>è½¬æ¢å›å­—æ¯/æ•°å­—</p>
<blockquote>
<p>1011110001001101 â†’ &ldquo;8sj209dsns02k2&rdquo;</p>
</blockquote>
</li>
</ol>
<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå¦‚æœåœ¨å¼€å§‹æ—¶ä½¿ç”¨ç›¸åŒçš„å•è¯ï¼Œåˆ™åœ¨ç»“æŸæ—¶å°†å§‹ç»ˆå¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚ç„¶è€Œï¼Œå³ä½¿ä½ æ”¹äº†ä¸€ä¸ªå­—æ¯ï¼Œç»“æœä¹Ÿä¼šå‘ç”Ÿå¾ˆå¤§çš„å˜åŒ–ã€‚</p>
<h2 id="æ³¨æ„">æ³¨æ„</h2>
<p>æœ¬æ–‡ä¸­è‹±æ–‡å’ŒäºŒè¿›åˆ¶ä¹‹é—´çš„ç›¸äº’è½¬æ¢å¹¶æ²¡æœ‰éµå¾ªä»»ä½•æ¨¡å¼ï¼Œè¯·è¯»è€…ä¸è¦çº ç»“äºè¿™ä¸€ç‚¹ã€‚å½“ç„¶ï¼Œå®é™…ä¸­ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•ç”¨äºå°†æˆ‘ä»¬ç†ŸçŸ¥çš„å­—ç¬¦ï¼ˆä¾‹å¦‚ä¸­æ–‡ã€è‹±è¯­ç­‰ï¼‰è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼ˆåå…­è¿›åˆ¶ï¼‰ï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹é¢çš„å‚è€ƒä¸­çš„å†…å®¹</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å“ˆå¸Œå‡½æ•°å®é™…ä¸Šå°±æ˜¯æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å°†æ•°æ®è¿›è¡Œä¸€ç³»åˆ—è½¬æ¢ï¼Œæœ€åå¾—åˆ°ä¸€ä¸²é”®å€¼ç”¨æ¥ä»£æ›¿/æŒ‡ä»£åŸå§‹æ•°æ®ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå“ˆå¸Œå‡½æ•°éœ€è¦æ»¡è¶³ç¡®å®šæ€§ã€å®šé•¿æ€§ã€ä¸å¯é€†æ€§ã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://qvault.io/2020/01/01/very-basic-intro-to-hash-functions-sha-256-md-5-etc/" target="_blank" rel="noopener noreffer">(Very) Basic Intro to Hash Functions (SHA-256, MD5, etc)</a></p>
</li>
<li>
<p>[2] <a href="https://en.wikipedia.org/wiki/Hash_function#Uses" target="_blank" rel="noopener noreffer">Hash Function</a></p>
</li>
<li>
<p>[3] <a href="https://en.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener noreffer">ASCII</a></p>
</li>
<li>
<p>[4] <a href="https://en.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener noreffer">Unicode</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>æ–‡ä»¶ä¼ è¾“ 1ï¼šSCP</title>
    <link>https://www.techkoala.top/scp/</link>
    <pubDate>Sat, 18 Jul 2020 10:28:05 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://www.techkoala.top/scp/</guid>
    <description><![CDATA[<blockquote>
<p>SCP å°±æ˜¯ SSH åè®®çš„æ–‡ä»¶ä¼ è¾“åŠŸèƒ½å—ï¼Ÿ</p>
</blockquote>
<h2 id="ä»€ä¹ˆæ˜¯-scp">ä»€ä¹ˆæ˜¯ SCP</h2>
<p>SCPï¼ˆSecure Copy Protocolï¼Œå®‰å…¨å¤åˆ¶åè®®ï¼‰å…è®¸æˆ‘ä»¬åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ï¼ˆå’Œç›®å½•ï¼‰ã€‚</p>
<p>ä½¿ç”¨èµ·æ¥ç‰¹åˆ«æ–¹ä¾¿ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Shell" data-lang="Shell">$ scp local_file remote_host:/home
</code></pre></td></tr></table>
</div>
</div><p>è¿™å°†æŠŠæœ¬åœ°æ–‡ä»¶ <code>localfile</code> å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„ <code>/home</code> æ–‡ä»¶ä¹‹ä¸‹ã€‚</p>
<p><code>SCP</code> ä½¿ç”¨èµ·æ¥ç‰¹åˆ«ä¾¿åˆ©ï¼Œå› ä¸ºä»–èƒ½å·¥ä½œåœ¨å‡ ä¹æ‰€æœ‰çš„ <code>Unix-like</code> çš„ç³»ç»Ÿä¸­ï¼Œå¹¶ä¸” <code>Windows</code> ä¸‹æ‹¥æœ‰è®¸å¤šå®¢æˆ·ç«¯ã€‚ä½†æ˜¯ä»…ä»…å¤åˆ¶æ–‡ä»¶å¹¶ä¸æ˜¯å…³é”®ã€‚<code>SCP</code> çœŸæ­£çš„ä»·å€¼æ˜¯å¯¹ <strong>è®¡ç®—æœºçš„èº«ä»½è¿›è¡ŒéªŒè¯</strong> ä»¥åŠå¯¹ <strong>ä¼ è¾“æ–‡ä»¶è¿›è¡ŒåŠ å¯†</strong>ï¼ˆä¹Ÿå°±æ˜¯ S ä»£è¡¨çš„å«ä¹‰ï¼‰ã€‚</p>
<p>ä½¿ç”¨å‰éœ€è¦é¦–å…ˆé…ç½®åˆ°è¿œç¨‹ä¸»æœºçš„ <code>SSH</code> è¿æ¥æƒé™ã€‚<code>SCP</code> çš„éªŒè¯æç¤ºå’Œ SSH çœ‹èµ·å¾ˆåƒï¼Œå› ä¸º <code>SCP</code> è·‘åœ¨ <code>SSH</code> çš„ä¸Šå±‚ï¼Œä»…ä»…æŠŠå®ƒä½œä¸ºæ–‡ä»¶æ•°æ®çš„ç®¡é“ã€‚äº‹å®ä¸Šï¼Œ<code>SSH</code> è´Ÿè´£å¤„ç†æ‰€æœ‰å®‰å…¨ç›¸å…³çš„ä»»åŠ¡ï¼Œ<code>SCP</code> åªæ˜¯å°†ä¸€äº›æ–‡ä»¶æ‰”åˆ° <code>SSH</code> è¿æ¥ä¸Šã€‚</p>
<p>ç»´åŸºç™¾ç§‘ä¸Šçš„æ¡ç›®è®²è¿°äº† <code>SCP</code> çš„å†å²ï¼Œç®€è€Œè¨€ä¹‹ï¼šåœ¨æ—§çš„ <code>BSD</code> ç³»ç»Ÿä¸Šæ›¾ç»æœ‰ä¸€ä¸ªå« <code>RCP</code> çš„å·¥å…·ï¼Œå¯ä»¥åœ¨ç”µè„‘ä¹‹é—´ç§»åŠ¨æ–‡ä»¶ã€‚åœ¨å½“æ—¶å—ä¿¡ä»»çš„ç½‘ç»œæ—¶ä»£ï¼Œæ¯ä¸ªäººéƒ½æ˜¯åˆ«äººçš„æœ‹å‹ã€‚åæ¥äººä»¬æ„è¯†åˆ°ï¼Œä¹Ÿè®¸å¹¶ä¸æ˜¯æ¯ä¸ªäººåœ¨ä»–ä»¬çš„ç½‘ç»œä¸Šéƒ½æ˜¯è¿™ä¹ˆå¥½çš„æœ‹å‹ã€‚äºæ˜¯æœ‰äººæŠŠ <code>RCP</code> çš„å®ç°å¤åˆ¶åˆ° <code>OpenSSH</code> çš„å‰èº«ä¸Šï¼Œç„¶åç®€å•åœ°åœ¨ <code>SSH</code> ä¼šè¯ä¸Šè¿è¡Œå®ƒï¼Œä»¥ä¿æŠ¤æ–‡ä»¶ä¸è¢«éå¥½å‹å‘ç°ã€‚é—®é¢˜è§£å†³äº†ï¼ä»æ­¤ä»¥åï¼Œå®ƒå°±ç•™åœ¨äº† <code>OpenSSH</code> ä¸­ã€‚</p>
<h2 id="scp-å·¥ä½œåŸç†">SCP å·¥ä½œåŸç†</h2>
<p><code>SCP</code> å¹¶ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†åè®®ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ª <code>RFC</code> æˆ–è€…ä»»ä½•å®˜æ–¹æè¿°å¦‚ä½•å®ç°å®ƒã€‚<code>OpenSSH</code> å®ç°æ˜¯ä¸€ä¸ªäº‹å®ä¸Šçš„è§„èŒƒã€‚æ­¤å®ç°æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼šè¿æ¥å»ºç«‹å’Œä¹‹åçš„ä¼ è¾“åè®®ã€‚</p>
<h3 id="å»ºç«‹è¿æ¥">å»ºç«‹è¿æ¥</h3>
<p>å®é™…ä¸Šï¼Œè¿™å¹¶ä¸æ˜¯çœŸæ­£çš„è¿æ¥ã€‚å› ä¸ºå®ƒåªæ˜¯åˆ©ç”¨ <code>SSH</code> æ‰§è¡Œå‘½ä»¤åçš„ <code>STDIN/STDOUT</code> ï¼Œæœ‰ç‚¹ç±»ä¼¼ <code>Unix</code> ç®¡é“ã€‚<code>OpenSSH</code> ä¸­åŒ…å«ä¸¤ä¸ªç¨‹åºæ¥å®Œæˆ:<code>sshd</code> å’Œ <code>scp</code>ã€‚<code>sshd</code> æ˜¯å§‹ç»ˆè¿è¡Œçš„æœåŠ¡å™¨å®ˆæŠ¤è¿›ç¨‹ï¼Œæ¥å—æ–°çš„ <code>SSH</code> è¿æ¥ã€‚<code>SCP</code> æ˜¯ä¼ªè£…æˆ <code>SSH</code> çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå‘é€å’Œæ¥å—æ–‡ä»¶ã€‚</p>
<p>å½“ <code>SCP</code> è¿è¡Œæ—¶ï¼Œä»–å°†å¼€å¯ä¸€ä¸ªæ–°çš„ <code>SSH</code> è¿æ¥ã€‚åœ¨è¯¥è¿æ¥ä¸Šï¼Œå®ƒä¼šåœ¨æœåŠ¡ç«¯æ‰§è¡Œå¦ä¸€ä¸ªå¸¦æœ‰ç‰¹æ®Šæ ‡å¿—çš„ <code>SCP</code> ç¨‹åºã€‚ä½ å¯ä»¥è®¤ä¸ºæ˜¯ <code>ssh exec scp [flags]</code>ã€‚ä¸»è¦çš„æ ‡å¿—åŒ…å« <code>-t</code>ï¼ˆ&ldquo;to&rdquo;ï¼‰å’Œ <code>-f</code>ï¼ˆ&ldquo;from&rdquo;ï¼‰ç”¨äºä»£è¡¨æ¥å—å’Œå‘é€ï¼Œè€Œ <code>-d</code> è¡¨ç¤ºæ–‡ä»¶å¤¹ï¼Œ<code>-r</code> è¡¨ç¤ºé€’å½’ã€‚</p>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-1.png" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-1.png" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-1.png" data-sub-html="<h2>å»ºç«‹è¿æ¥</h2>">
        
    </a><figcaption class="image-caption">å»ºç«‹è¿æ¥</figcaption>
    </figure>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>SCP</code> åè®®æ˜¯å•å‘çš„ï¼Œä¸€ç«¯å‘é€æ–‡ä»¶ï¼Œå¦ä¸€ç«¯æ¥æ”¶æ–‡ä»¶ã€‚åœ¨è¿œç¨‹ç«¯ <code>SCP</code> å¼€å§‹è¿è¡Œåï¼Œå®é™…çš„ <code>SCP</code> åè®®å‘½ä»¤å¼€å§‹é€šè¿‡ <code>STDIN</code> å’Œ <code>STDOUT</code> è¿è¡Œã€‚</p>
<h3 id="ä¼ è¾“åè®®">ä¼ è¾“åè®®</h3>
<p>ç°åœ¨ï¼Œå®‰å…¨çš„ I/O é€šé“å»ºç«‹èµ·æ¥ï¼Œå¹¶ä¸”å·²ç»æœ‰æ•ˆåœ°åˆ‡æ¢åˆ° <code>RCP</code> åè®®ä¸Šã€‚è¯¥åè®®æ˜¯ <strong>é¡ºåº</strong>ï¼ˆä¸€æ¬¡ä¸€ä¸ªæ“ä½œï¼‰å’Œ <strong>åŒæ­¥</strong>ï¼ˆæ¯ä¸ªå‘½ä»¤æ‰§è¡Œå®Œåæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤ï¼‰æ‰§è¡Œçš„ã€‚</p>
<p>å‘½ä»¤æ ¼å¼å¤§è‡´ä¸ºï¼ˆä¸å¸¦æ‹¬å·æˆ–ç©ºæ ¼ï¼‰ï¼š<code>[command type][arguments]\n [optional data]</code></p>
<ul>
<li>
<p>[command type] é€šå¸¸æ˜¯ä¸€ä¸ª ASCII å­—ç¬¦ï¼š</p>
<ul>
<li>&lsquo;C&rsquo;- å†™å…¥æ–‡ä»¶</li>
<li>&lsquo;D&rsquo;- è¾“å…¥ç›®å½•</li>
<li>&lsquo;E&rsquo;- é€€å‡ºæœ€åä¸€ä¸ªç›®å½•</li>
<li>&lsquo;T&rsquo;- è®¾ç½®ä¸‹ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„åˆ›å»º / æ›´æ–°æ—¶é—´æˆ³</li>
</ul>
</li>
<li>
<p>[arguments] æ˜¯ç‰¹å®šäºå‘½ä»¤çš„ï¼Œå¦‚æ–‡ä»¶ / ç›®å½•åç§°ã€æ–‡ä»¶å¤§å°æˆ–æ—¶é—´æˆ³ã€‚&ldquo;E&rdquo; å‘½ä»¤æ²¡æœ‰å‚æ•°ã€‚</p>
</li>
<li>
<p>[optional data] åœ¨ä¸Šä¸€ä¸ªå‘½ä»¤ä¸º &ldquo;C&rdquo;ï¼ˆåˆ›å»ºæ–‡ä»¶ï¼‰æ—¶å‘é€ã€‚æ•°æ®çš„å¤§å°æŒ‡å®šä¸º &ldquo;C&rdquo; çš„å‚æ•°ã€‚</p>
</li>
</ul>
<p>æ­¤å¤–ï¼Œè¿˜æœ‰æ§åˆ¶å­—èŠ‚ï¼Œè¿™äº›å­—èŠ‚æ˜¯åœ¨æ²¡æœ‰æ–°è¡Œçš„æƒ…å†µä¸‹è‡ªå·±å‘é€çš„ï¼š</p>
<ul>
<li>
<p>&lsquo;0x00&rsquo;-&ldquo;OK&rdquo;ï¼Œç¡®è®¤å®Œæˆæœ€åä¸€ä¸ªå‘½ä»¤ï¼ˆå¦‚ç¼–å†™æœ¬åœ°æ–‡ä»¶ï¼‰ã€‚æ¥æ”¶æ–¹ä¹Ÿä¼šåœ¨å¯åŠ¨æ—¶å‘é€æ­¤æ¶ˆæ¯ï¼Œè®©å‘é€æ–¹çŸ¥é“å®ƒå·²å‡†å¤‡å¥½æ¥æ”¶å‘½ä»¤ã€‚</p>
</li>
<li>
<p>&lsquo;0x00&rsquo;-&ldquo;è­¦å‘Š&rdquo;ï¼Œåé¢æ˜¯è¦å‘ç”¨æˆ·æ˜¾ç¤ºçš„è¡Œï¼ˆç”±æ–°è¡Œç»ˆæ­¢ï¼‰ã€‚</p>
</li>
<li>
<p>&lsquo;0x00&rsquo;-&ldquo;é”™è¯¯&rdquo; åè·Ÿéšå¯é€‰æ¶ˆæ¯ï¼ˆå’Œè­¦å‘Šç›¸åŒï¼‰ï¼Œä½†è¿æ¥éšåç»ˆæ­¢ã€‚</p>
</li>
</ul>
<p>ä¸‹é¢è¿™ä¸ªå¸¦æœ‰æ³¨é‡Šçš„å›¾ç‰‡å®ä¾‹ï¼Œè¯¦ç»†è®²è¿°äº†è¿™ä¸ªè¿‡ç¨‹ï¼š</p>
<figure><a class="lightgallery" href="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-2.png" title="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-2.png" data-thumbnail="https://cdn.jsdelivr.net/gh/techkoala/techkoala.github.io@master/images/Software/SCP/scp-2.png" data-sub-html="<h2>ä¼ è¾“è¿‡ç¨‹</h2>">
        
    </a><figcaption class="image-caption">ä¼ è¾“è¿‡ç¨‹</figcaption>
    </figure>
<h2 id="ä½¿ç”¨-scp">ä½¿ç”¨ SCP</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ scp é€‰é¡¹ å‚æ•°
</code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">-1ï¼šä½¿ç”¨sshåè®®ç‰ˆæœ¬1ï¼›
-2ï¼šä½¿ç”¨sshåè®®ç‰ˆæœ¬2ï¼›
-4ï¼šä½¿ç”¨ipv4ï¼›
-6ï¼šä½¿ç”¨ipv6ï¼›
-Bï¼šä»¥æ‰¹å¤„ç†æ¨¡å¼è¿è¡Œï¼›
-Cï¼šä½¿ç”¨å‹ç¼©ï¼›
-Fï¼šæŒ‡å®šsshé…ç½®æ–‡ä»¶ï¼›
-lï¼šæŒ‡å®šå®½å¸¦é™åˆ¶ï¼›
-oï¼šæŒ‡å®šä½¿ç”¨çš„sshé€‰é¡¹ï¼›
-Pï¼šæŒ‡å®šè¿œç¨‹ä¸»æœºçš„ç«¯å£å·ï¼›
-pï¼šä¿ç•™æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œæœ€åè®¿é—®æ—¶é—´å’Œæƒé™æ¨¡å¼ï¼›
-qï¼šä¸æ˜¾ç¤ºå¤åˆ¶è¿›åº¦ï¼›
-rï¼šä»¥é€’å½’æ–¹å¼å¤åˆ¶ã€‚
</code></pre></td></tr></table>
</div>
</div><p>å‚æ•°åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>æºæ–‡ä»¶ï¼šæŒ‡å®šè¦å¤åˆ¶çš„æºæ–‡ä»¶ã€‚</li>
<li>ç›®æ ‡æ–‡ä»¶ï¼šæ ¼å¼ä¸ºuser@hostï¼šfilenameï¼ˆæ–‡ä»¶åä¸ºç›®æ ‡æ–‡ä»¶çš„åç§°ï¼‰ã€‚</li>
</ul>
<h2 id="scp-çš„é—®é¢˜">SCP çš„é—®é¢˜</h2>
<p>çœ‹èµ·æ¥ï¼Œ<code>SCP</code> å¬èµ·æ¥ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œç„¶è€Œå­˜åœ¨ä¸€äº›ç°å®é—®é¢˜ã€‚</p>
<h3 id="æ€§èƒ½">æ€§èƒ½</h3>
<p>ä¼ è¾“åè®®çš„é¡ºåºæ€§ï¼šæ¯ä¸ªå‘½ä»¤çš„å¼ºåˆ¶ç¡®è®¤éƒ½ä¼šå¢åŠ å¤§é‡å¼€é”€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ²¿é€”ä¸¢å¼ƒå•ä¸ªç¡®è®¤æ•°æ®åŒ…ï¼Œåˆ™æ•´ä¸ªè¿æ¥å°†æš‚åœï¼Œç›´åˆ°é‡æ–°ä¼ è¾“å¼€å§‹ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå‘é€æ‰€æœ‰æ•°æ®è€Œä¸å‹ç¼©æˆ–è¯¢é—®æ¥æ”¶æ–¹æ˜¯å¦å·²ç»æ‹¥æœ‰è¯¥æ–‡ä»¶å¹¶ä¸ç†æƒ³ã€‚</p>
<p>æœ‰ç»éªŒçš„ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥å‘Šè¯‰æ‚¨ï¼Œä½¿ç”¨ <code>tar</code> å½’æ¡£æ–‡ä»¶å¹¶å‘é€æ¯”ä½¿ç”¨ <code>scp</code> é€’å½’å‘½ä»¤ä¼ è¾“è¦å¿«å¾—å¤šã€‚äº‹å®ä¸Šï¼Œè¿™æ ·çš„è¯ä½ ç”šè‡³æ— éœ€ä½¿ç”¨ SCPï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Shell" data-lang="Shell"><span class="c1"># Copy a local folder with 10000 files</span>
$ find /tmp/big_folder/-type f <span class="p">|</span> wc -l
<span class="m">10000</span>

<span class="c1"># Using scp</span>
$ <span class="nb">time</span> scp -r -q /tmp/big_folder/server:/tmp/big_folder

________________________________________________________
Executed in  882.99 millis	fish       	external
   usr <span class="nb">time</span>  114.09 millis	0.00 micros  114.09 millis
   sys <span class="nb">time</span>  278.46 millis  949.00 micros  277.51 millis

<span class="c1"># Using tar over ssh</span>
$ <span class="nb">time</span> sh -c <span class="s2">&#34;tar cf - /tmp/big_folder | ssh server &#39;tar xC /tmp/-f -&#39;&#34;</span>
tar: Removing leading <span class="s1">&#39;/&#39;</span> from member names

________________________________________________________
Executed in  215.68 millis	fish       	external
   usr <span class="nb">time</span>   93.22 millis	0.00 micros   93.22 millis
   sys <span class="nb">time</span>   66.51 millis  897.00 micros   65.62 millis
</code></pre></td></tr></table>
</div>
</div><p>åœ¨è¿™ç§æ¯”è¾ƒç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œ<code>tar&amp;ssh</code> çš„ 215.68ms å¯¹æ¯” <code>SCP</code> çš„ 882.99msï¼Œè¶³è¶³æœ‰å››å€çš„é€Ÿåº¦æå‡ã€‚</p>
<h3 id="å®‰å…¨">å®‰å…¨</h3>
<p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ<code>SCP</code> é  <code>SSH</code> è´Ÿæ‹…å®‰å…¨å·¥ä½œï¼Œå› æ­¤å®ƒå®Œå…¨å®‰å…¨&hellip; å—ï¼Ÿ</p>
<p><code>OpenSSH</code> çš„å‘è¡Œè¯´æ˜æåˆ°ï¼š</p>
<blockquote>
<p>scp åè®®å·²ç»è¿‡æ—¶ã€ä¸çµæ´»ä¸”ä¸å®¹æ˜“ä¿®å¤ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨æ›´ç°ä»£çš„åè®®ï¼Œå¦‚ sftp å’Œ rsync æ¥ä¼ è¾“æ–‡ä»¶ã€‚</p>
</blockquote>
<p>å¦‚æœè¿œç¨‹ç«¯çš„ <code>shell</code> æ‰“å°å‡ºä»»ä½•éäº¤äº’å¼ä¼šè¯ï¼Œåˆ™æœ¬åœ° <code>SCP</code> è¿›ç¨‹å°†æ„‰å¿«åœ°å°†è¯¥è¾“å‡ºè§£é‡Šä¸º <code>SCP</code> å‘½ä»¤ã€‚å¥½çš„è¯ï¼Œè¿™ä»…ä»…æ˜¯æ‰“ç ´ <code>SCP</code> åè®®ä¸­æ¨¡ç³Šçš„é”™è¯¯ã€‚ä½†åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œè¿œç¨‹ <code>shell</code> å¯åŠ¨è„šæœ¬æ˜¯æ¶æ„çš„ï¼Œå¹¶å‘ä½ å‘é€æ¶æ„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ‰€éœ€çš„æ–‡ä»¶ã€‚</p>
<p>æ­¤å¤–ï¼Œæ—©åœ¨ 2018 å¹´ï¼ŒHarry Sintonen å°±å‘ç°äº†æµè¡Œçš„ <code>SCP</code> å®ç°ï¼ˆåŒ…æ‹¬ <code>OpenSSH</code>ï¼‰ä¸­çš„ä¸€å †æ¼æ´ã€‚åŒ…æ‹¬ä»ä¿®æ”¹ç›®å½•çš„æƒé™åˆ°è¦†ç›–ä»»æ„æ–‡ä»¶ï¼ˆç”±äº <code>ï½/.ssh/authorized_keys</code> æˆ– <code>ï½/.bashrc</code>ï¼‰ã€æœ‰æ•ˆåœ°æ‰§è¡Œä»£ç ï¼Œä»¥åŠæ³¨å…¥ç»ˆç«¯è½¬ä¹‰åºåˆ—æ¥éšè—ä»»ä½•è¿½è¸ªã€‚è¿™äº›æ¼æ´å¯¹äºä»»ä½•æ„å»ºç½‘ç»œ <code>CLI</code> åº”ç”¨ç¨‹åºçš„äººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ•™è®­ã€‚</p>
<h2 id="scp-çš„æ›¿ä»£æ–¹æ¡ˆ">SCP çš„æ›¿ä»£æ–¹æ¡ˆ</h2>
<p><code>SFTP</code> è¢«å¹¿æ³›è®¤ä¸ºæ˜¯ <code>SCP</code> çš„ç»§æ‰¿è€…ã€‚ä¸ºäº†ä¼ è¾“å±‚å®‰å…¨æ€§ï¼Œå®ƒä»ç„¶åœ¨ <code>SSH</code> ä¸Šè¿è¡Œï¼Œå¹¶ä¸”ä¸éœ€è¦å•ç‹¬è®¾ç½®è®¿é—®ã€‚å®ƒå¯ä»¥ä¸ºæ‚¨æä¾›ä¸€ä¸ªè‡ªå®šä¹‰äº¤äº’å¼æç¤ºæ¥æ¢ç´¢è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨é¢„å…ˆç¼–å†™çš„ä¸€ç³»åˆ—å‘½ä»¤ç¼–å†™è„šæœ¬ã€‚
ç¼ºç‚¹æ˜¯ï¼Œæ‚¨éœ€è¦å­¦ä¹  <code>SFTP</code> æç¤ºå‘½ä»¤ï¼Œåè®®æœ¬èº«å°šæœªå®Œå…¨æ ‡å‡†åŒ–ï¼ˆæœ‰å¾ˆå¤š <code>RFC</code> è‰ç¨¿ï¼Œä½†ä½œè€…æœ€ç»ˆæ”¾å¼ƒäº†ï¼‰ã€‚</p>
<p><code>Rsync</code> æ˜¯å¦ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ä½¿ç”¨ä¸ <code>SCP</code> å‘½ä»¤å®Œå…¨ç›¸åŒ - å®ƒä¹Ÿåˆ©ç”¨ <code>SSH</code>ã€‚<code>Rsync</code> ç€é‡ä¼˜åŒ–æ€§èƒ½ - å®ƒæ‰§è¡Œå¤§é‡çš„å¤æ‚æœ¬åœ°è®¡ç®—ä»è€Œé€šè¿‡ç½‘ç»œå‘é€å°½å¯èƒ½å°‘çš„æ•°æ®ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒè‡´åŠ›äºæ•°æ®åŒæ­¥è€Œä¸æ˜¯çº¯ä¼ è¾“æ–‡ä»¶ - å¦‚æœè¿œç¨‹å’Œæœ¬åœ°å†…å®¹ç›¸ä¼¼ï¼Œåˆ™åªä¼šå‘é€å¢é‡ã€‚</p>
<p>åŒæ ·ï¼Œå®ƒä¹Ÿæœ‰å…¶è‡ªèº«çš„ç¼ºç‚¹ï¼šå‘é€æ–¹ä½¿ç”¨å¤§é‡çš„ CPU èµ„æºæ¥è®¡ç®—è¦å‘é€ä»€ä¹ˆï¼Œå¹¶ä¸”æ¥æ”¶æ–¹ä½¿ç”¨å¤§é‡ç£ç›˜ IO å°†æ•°æ®æŒ‰æ­£ç¡®çš„é¡ºåºæ”¾åœ¨ä¸€èµ·ã€‚ä¸ <code>OpenSSH</code> ä¸åŒï¼Œ<code>Rsync</code> åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸Šå¹¶ä¸é¢„å®‰è£…ã€‚</p>
<h2 id="ç»“è®º">ç»“è®º</h2>
<p><code>SCP</code> æ˜¯ä¸€ä¸ªç®€å•çš„å·¥å…·ï¼Œå®ƒåœ¨å¤åˆ¶æ–‡ä»¶æ–¹é¢åšå¾—å¾ˆå¥½ï¼Œä½†è¾ƒæ–°çš„è½¯ä»¶åœ¨å¾ˆå¤šæ–¹é¢éƒ½ä¼˜äºå®ƒã€‚å¯¹äºæ‚¨ä¿¡ä»»çš„è®¡ç®—æœºä¹‹é—´çš„ä¸ªäººç®€å•ä½¿ç”¨ï¼Œ<code>SCP</code> ä»ç„¶é€‚åˆã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨é‡åˆ°æ€§èƒ½é—®é¢˜æˆ–éœ€è¦æ»¡è¶³æ›´é«˜çš„å®‰å…¨æ ‡å‡†ï¼Œåˆ™ä¸Šé¢åˆ—å‡ºçš„ä»»ä½•å¤‡é€‰æ–¹æ¡ˆéƒ½æ¯” <code>SCP</code> æ›´å¯å–ã€‚é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„ï¼Œç„¶åè¯•ç€å¼€å§‹ä½¿ç”¨ã€‚</p>
<h2 id="å¦è§">å¦è§</h2>
<ul>
<li><a href="https://www.techkoala.top/rsync/" target="_blank" rel="noopener noreffer">rsync</a></li>
<li><a href="https://www.techkoala.top/sftp/" target="_blank" rel="noopener noreffer">SFTP</a></li>
</ul>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>[1] <a href="https://gravitational.com/blog/scp-familiar-simple-insecure-slow/" target="_blank" rel="noopener noreffer">SCP - Familiar, Simple, Insecure, and Slow</a></p>
</li>
<li>
<p>[2] <a href="https://en.wikipedia.org/wiki/Secure_copy" target="_blank" rel="noopener noreffer">Wikipedia Secure copy</a></p>
</li>
<li>
<p>[3] <a href="https://lists.mindrot.org/pipermail/openssh-unix-dev/2019-March/037672.html" target="_blank" rel="noopener noreffer">Call for testing: OpenSSH 8.0</a></p>
</li>
<li>
<p>[4] <a href="https://ningyu1.github.io/linux-command/c/scp.html" target="_blank" rel="noopener noreffer">Scp</a></p>
</li>
</ul>]]></description>
</item></channel>
</rss>
